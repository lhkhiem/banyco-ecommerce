"use strict";exports.id=8076,exports.ids=[8076],exports.modules={32835:(e,t,r)=>{r.d(t,{default:()=>u});var a=r(10326),l=r(17577),i=r(40381),s=r(71473),o=r(79618),n=r(94382);function u({productId:e,variantId:t,name:r,price:u,image:c,quantity:p=1,disabled:d=!1,variant:h="primary",size:m="md",fullWidth:g=!1,showIcon:b=!0}){let[v,S]=(0,l.useState)(!1),E=(0,n.x)(e=>e.addItem),y=async()=>{S(!0);try{E({productId:e,variantId:t,quantity:p,price:u,name:r,image:c??"/images/placeholder-product.jpg"}),i.Am.success("Đ\xe3 th\xeam v\xe0o giỏ h\xe0ng",{duration:2500,position:"top-right",icon:"\uD83D\uDED2",style:{minWidth:"220px"}})}catch(e){console.error("Failed to add to cart:",e),i.Am.error("Kh\xf4ng thể th\xeam sản phẩm v\xe0o giỏ h\xe0ng. Vui l\xf2ng thử lại.")}finally{S(!1)}};return(0,a.jsxs)(o.Z,{variant:h,size:m,fullWidth:g,isLoading:v,disabled:d,onClick:y,className:"flex items-center justify-center",children:[!v&&b&&a.jsx(s.Qyq,{className:"mr-2 h-4 w-4"}),v?"Đang th\xeam...":"Th\xeam v\xe0o giỏ h\xe0ng"]})}},79618:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(10326),l=r(90434),i=r(82146);function s({children:e,variant:t="primary",size:r="md",isLoading:s=!1,fullWidth:o=!1,className:n,disabled:u,href:c,...p}){let d=(0,i.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500",ghost:"bg-transparent text-brand-purple-600 hover:bg-brand-purple-50 focus:ring-brand-purple-500",danger:"bg-error text-white hover:bg-[#98131b] focus:ring-error"}[t],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[r],o&&"w-full",(u||s)&&"opacity-50 cursor-not-allowed",n),h=s?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang tải..."]}):e;return c?a.jsx(l.default,{href:c,legacyBehavior:!0,passHref:!0,children:a.jsx("a",{className:d,children:h})}):a.jsx("button",{className:d,disabled:u||s,...p,children:h})}},82146:(e,t,r)=>{r.d(t,{cn:()=>l});var a=r(41135);function l(...e){return(0,a.W)(e)}},20802:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});var a=r(19510),l=r(23704),i=r(5050),s=r(83144),o=r(13985);function n({children:e}){return(0,a.jsxs)(a.Fragment,{children:[a.jsx(l.Z,{}),a.jsx("main",{className:"min-h-screen bg-gray-50 pt-[120px]",children:e}),a.jsx(o.Z,{}),a.jsx(i.Z,{}),a.jsx(s.Z,{})]})}},15921:(e,t,r)=>{r.d(t,{$2:()=>c,f8:()=>m,kG:()=>p,uD:()=>g,z9:()=>h});let a="/api",l=e=>e?e.replace(/\/+$/,""):"",i=e=>e?e.startsWith("/")?e:`/${e}`:"",s=(e,t="")=>{let r=l(e);return t?`${r}${i(t)}`:r},o=()=>{let e=l("https://banyco.vn");if(e)return e;let t="banyco.vn";if(t)return`https://${t}`;let r=process.env.VERCEL_URL||process.env.HOSTNAME;return r?`https://${r}`:"http://localhost:3000"},n=()=>{let e=l("https://ecommerce-api.banyco.vn/api");if(e)return e.endsWith("/api")?e:s(e,a);let t="ecommerce-api.banyco.vn";return t?`https://${t}${a}`:`http://localhost:443${a}`},u=e=>l(e).replace(/\/api$/,""),c=()=>o(),p=()=>n(),d=()=>u(n()),h=(e="")=>s(o(),e),m=(e="")=>s(n(),e),g=(e="")=>s(d(),e)},18722:(e,t,r)=>{r.d(t,{P:()=>a});let a={AUTH:{LOGIN:"/auth/login",REGISTER:"/auth/register",LOGOUT:"/auth/logout",REFRESH:"/auth/refresh",VERIFY_EMAIL:"/auth/verify-email",FORGOT_PASSWORD:"/auth/forgot-password",RESET_PASSWORD:"/auth/reset-password",ME:"/auth/me"},PRODUCTS:{LIST:"/products",DETAIL:e=>`/products/${e}`,SEARCH:"/products/search",FEATURED:"/products/featured",BEST_SELLERS:"/products/best-sellers",NEW_ARRIVALS:"/products/new-arrivals",RELATED:e=>`/products/${e}/related`,REVIEWS:e=>`/products/${e}/reviews`},CATEGORIES:{LIST:"/product-categories",DETAIL:e=>`/product-categories/slug/${e}`,TREE:"/product-categories/tree",PRODUCTS:e=>`/product-categories/${e}/products`},BRANDS:{LIST:"/brands",DETAIL:e=>`/brands/slug/${e}`,PRODUCTS:e=>`/brands/${e}/products`},CART:{GET:"/public/cart",ADD:"/public/cart/add",UPDATE:"/public/cart/update",REMOVE:"/public/cart/remove",CLEAR:"/public/cart/clear",APPLY_PROMO:"/public/cart/promo"},ORDERS:{LIST:"/public/orders",DETAIL:e=>`/public/orders/${e}`,CREATE:"/orders",CANCEL:e=>`/public/orders/${e}/cancel`},USER:{PROFILE:"/public/user/profile",UPDATE_PROFILE:"/public/user/profile",ADDRESSES:"/public/user/addresses",ADD_ADDRESS:"/public/user/addresses",UPDATE_ADDRESS:e=>`/public/user/addresses/${e}`,DELETE_ADDRESS:e=>`/public/user/addresses/${e}`,WISHLIST:"/public/user/wishlist",ADD_TO_WISHLIST:"/public/user/wishlist/add",REMOVE_FROM_WISHLIST:"/public/user/wishlist/remove"},SEARCH:{PRODUCTS:"/search/products",SUGGESTIONS:"/search/suggestions"},NEWSLETTER:{SUBSCRIBE:"/newsletter/subscribe"},CONTACTS:{SUBMIT:"/contacts"},ANALYTICS:{TRACK:"/analytics/track"},POSTS:{LIST:"/public/posts",DETAIL:e=>`/public/posts/${e}`,RELATED:e=>`/public/posts/${e}/related`},ABOUT:{SECTIONS:"/about-sections",SECTION_BY_KEY:e=>`/about-sections/key/${e}`},TRACKING:{ACTIVE_SCRIPTS:"/tracking-scripts/active"}}},41447:(e,t,r)=>{r.d(t,{W:()=>n,t:()=>o});var a=r(15921),l=r(18722),i=r(83282);let s=e=>{let t=new URLSearchParams;return Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,String(r))}),t.toString()},o=async(e={})=>{let t=s({page:e.page,pageSize:e.pageSize,q:e.q,sort:e.sort,category:e.category,brand:e.brand,price:e.price,availability:e.availability,special:e.special}),r=(0,a.f8)(`${l.P.PRODUCTS.LIST}${t?`?${t}`:""}`);try{let t=await fetch(r,{next:{revalidate:60}});if(!t.ok)return console.error("[fetchProducts] Failed to fetch products",t.statusText),{data:[],meta:{total:0,page:1,pageSize:e.pageSize??20,totalPages:0}};let a=await t.json(),l=a.data??[];return{data:l.map(e=>{let t=Array.isArray(e.optionValues)?e.optionValues.map(e=>({optionId:e?.optionId??null,optionName:e?.optionName??"",optionPosition:e?.optionPosition??0,valueId:e?.valueId??null,value:e?.value??"",valueCode:e?.valueCode??null,valuePosition:e?.valuePosition??0})):[];return{...e,thumbnailUrl:(0,i.ZJ)(e.thumbnailUrl),categories:e.categories??[],brand:e.brand??null,rating:e.rating??0,reviewCount:e.reviewCount??0,variantCount:Number(e.variantCount??0),variantSummary:e.variantSummary??null,optionValues:t,isVariant:e.isVariant??!1,variantId:e.variantId??null}}),meta:a.meta??{total:l.length,page:e.page??1,pageSize:e.pageSize??l.length,totalPages:1}}}catch(t){return console.error("[fetchProducts] Error",t),{data:[],meta:{total:0,page:1,pageSize:e.pageSize??20,totalPages:0}}}},n=async e=>{if(!e)return null;let t=(0,a.f8)(l.P.PRODUCTS.DETAIL(e));try{let e=await fetch(t,{next:{revalidate:60}});if(!e.ok)return console.error("[fetchProductDetail] Failed",e.statusText),null;let r=await e.json();if(!r.data)return null;let a=r.data,l=Array.isArray(a.variants)?a.variants.map(e=>{let t=Array.isArray(e.optionValues)?e.optionValues.map(e=>({optionId:e?.optionId??null,optionName:e?.optionName??"",optionPosition:e?.optionPosition??0,valueId:e?.valueId??null,value:e?.value??"",valueCode:e?.valueCode??null,valuePosition:e?.valuePosition??0})):[],r=Array.isArray(e.attributes)?e.attributes.map(e=>({id:e?.id??null,name:e?.name??"",value:e?.value??null})):[];return{...e,slug:e.slug??e.sku??"",summary:e.summary??null,price:Number(e.price),comparePrice:null!==e.comparePrice&&void 0!==e.comparePrice?Number(e.comparePrice):null,stock:Number.isFinite(Number(e.stock))?Number(e.stock):0,thumbnailUrl:(0,i.ZJ)(e.thumbnailUrl),optionValues:t,attributes:r}}):[];return{...a,thumbnailUrl:(0,i.ZJ)(a.thumbnailUrl),variantCount:Number(a.variantCount??0),selectedVariantId:a.selectedVariantId??null,selectedVariantSlug:a.selectedVariantSlug??null,variants:l,images:a.images?.map(e=>({...e,url:i.ZJ(e.url)}))??[],relatedProducts:a.relatedProducts?.map(e=>({...e,thumbnailUrl:i.ZJ(e.thumbnailUrl),variantCount:Number(e.variantCount??0),variantSummary:e.variantSummary??null,optionValues:Array.isArray(e.optionValues)?e.optionValues.map(e=>({optionId:e?.optionId??null,optionName:e?.optionName??"",optionPosition:e?.optionPosition??0,valueId:e?.valueId??null,value:e?.value??"",valueCode:e?.valueCode??null,valuePosition:e?.valuePosition??0})):[]}))??[]}}catch(e){return console.error("[fetchProductDetail] Error",e),null}}},83282:(e,t,r)=>{r.d(t,{ZJ:()=>n});let a=()=>"ecommerce-api.banyco.vn",l=()=>{let e=a();return`https://${e}`},i=e=>{let t=e.match(/https?:\/\/(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(:\d+)?/);if(t){let r=l();return e.replace(t[0],r)}return e},s=()=>{let e="ecommerce-api.banyco.vn";return e?`https://${e}`:"http://localhost:443"},o=()=>!0,n=e=>{let t;if(!e||"string"!=typeof e)return null;let r=e.replace(/\\/g,"/"),a=s(),l=o();return r.startsWith("http://")||r.startsWith("https://")?(((t=r).includes("localhost")||t.includes("127.0.0.1"))&&(t=(t=t.replace(/https?:\/\/localhost(:\d+)?/gi,a)).replace(/https?:\/\/127\.0\.0\.1(:\d+)?/gi,a)),t=i(t)):t=`${a}${r.startsWith("/")?"":"/"}${r}`,(t=t.replace(/\/upload\/(?!s)/g,"/uploads/")).startsWith("http://")&&l&&(t=t.replace("http://","https://")),l&&(t.includes("localhost")||t.includes("127.0.0.1"))&&(console.warn(`[normalizeMediaUrl] Found localhost in production, replacing: ${t}`),t=(t=t.replace(/https?:\/\/localhost(:\d+)?/gi,a)).replace(/https?:\/\/127\.0\.0\.1(:\d+)?/gi,a)),t}},41135:(e,t,r)=>{r.d(t,{W:()=>a});function a(){for(var e,t,r=0,a="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=function e(t){var r,a,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(a=e(t[r]))&&(l&&(l+=" "),l+=a)}else for(a in t)t[a]&&(l&&(l+=" "),l+=a)}return l}(e))&&(a&&(a+=" "),a+=t);return a}}};