(()=>{var e={};e.id=5224,e.ids=[5224],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},42726:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>o,routeModule:()=>p,tree:()=>c}),a(85744),a(20802),a(15334),a(26083),a(19644),a(96560);var t=a(23191),r=a(88716),n=a(37922),i=a.n(n),l=a(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);a.d(s,d);let c=["",{children:["(shop)",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,85744)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\(shop)\\checkout\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,20802)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\(shop)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,15334)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,26083)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,19644)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,96560)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\not-found.tsx"]}],o=["D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\(shop)\\checkout\\page.tsx"],m="/(shop)/checkout/page",h={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(shop)/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},30544:(e,s,a)=>{Promise.resolve().then(a.bind(a,5678))},5678:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var t=a(10326),r=a(17577),n=a(90434),i=a(35047),l=a(46226),d=a(40381),c=a(79618),o=a(24918),m=a(59575),h=a(94382),p=a(69822),u=a(9997),x=a(39753),g=a(59341),y=a(79721),v=a(71473),b=a(74034);function f(e){return(0,b.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 4.875C3 3.839 3.84 3 4.875 3h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 9.375v-4.5ZM4.875 4.5a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875.375c0-1.036.84-1.875 1.875-1.875h4.5C20.16 3 21 3.84 21 4.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5a1.875 1.875 0 0 1-1.875-1.875v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5ZM6 6.75A.75.75 0 0 1 6.75 6h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75A.75.75 0 0 1 6 7.5v-.75Zm9.75 0A.75.75 0 0 1 16.5 6h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75ZM3 14.625c0-1.036.84-1.875 1.875-1.875h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.035-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 19.125v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875-.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm6 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75ZM6 16.5a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm9.75 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm-3 3a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm6 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Z",clipRule:"evenodd"},child:[]}]})(e)}function j(){let e=(0,i.useRouter)(),[s,a]=(0,r.useState)(!1),{items:b,getTotalPrice:j,getTotalItems:N,clearCart:_}=(0,h.x)(),{user:C,isAuthenticated:w}=(0,p.t)(e=>({user:e.user,isAuthenticated:e.isAuthenticated})),[P,Z]=(0,r.useState)(!1),[q,k]=(0,r.useState)({email:"",fullName:"",company:"",address:"",apartment:"",city:"",state:"",zipCode:"",country:"United States",phone:""}),[E,A]=(0,r.useState)("standard"),[M,T]=(0,r.useState)("cod"),z=j(),I=(0,r.useMemo)(()=>"zalopay"===M?0:z>749?0:50,[z,M]),D=(0,r.useMemo)(()=>"zalopay"===M?0:100,[M]),R=(0,r.useMemo)(()=>"express"===E?D:I,[E,D,I]),S=(0,r.useMemo)(()=>.08*z,[z]),G=(0,r.useMemo)(()=>z+R+S,[z,R,S]),B=e=>{let{name:s,value:a,type:t}=e.target,r=e.target.checked;k(e=>({...e,[s]:"checkbox"===t?r:a}))},L=e=>{let s=e.trim();if(!s)return{firstName:"",lastName:""};let a=s.split(/\s+/);if(1===a.length)return{firstName:a[0],lastName:""};if(2===a.length)return{firstName:a[0],lastName:a[1]};{let e=a[a.length-1];return{firstName:a.slice(0,a.length-1).join(" "),lastName:e}}},O=async s=>{if(s.preventDefault(),0===b.length){d.Am.error("Giỏ h\xe0ng của bạn đang trống.");return}Z(!0);let{firstName:a,lastName:t}=L(q.fullName),r={firstName:a,lastName:t,company:q.company||void 0,addressLine1:q.address,addressLine2:q.apartment||void 0,city:q.city,state:q.state,postalCode:q.zipCode,country:q.country,phone:q.phone,email:q.email},n={...r},i={customer_id:w&&C?C.id:void 0,customer_email:q.email,customer_name:q.fullName.trim(),customer_phone:q.phone,shipping_address:r,billing_address:n,shipping_method:E,payment_method:M,items:b.map(e=>({product_id:e.productId,quantity:e.quantity,variant_info:e.variantId?{variantId:e.variantId}:null})),notes:q.company?`Company: ${q.company}`:"",subtotal:z,shipping_cost:R,tax_amount:S};try{let s=await (0,u.LV)(i);if("zalopay"===M)try{d.Am.loading("Đang chuyển đến ZaloPay...");let e=await (0,x.n)({orderId:s.id,amount:Math.round(s.total),description:`Đơn h\xe0ng ${s.orderNumber}`,appUser:q.phone||q.email||s.id,items:b.map(e=>({itemid:e.productId,itemname:e.name,itemquantity:e.quantity,itemprice:Math.round(e.price)}))});if(e.success&&e.data?.order_url){d.Am.dismiss(),window.location.href=e.data.order_url;return}throw Error(e.error||e.message||"Kh\xf4ng thể tạo thanh to\xe1n ZaloPay")}catch(e){d.Am.dismiss(),d.Am.error((0,g.z)(e)),Z(!1);return}d.Am.success("Đặt h\xe0ng th\xe0nh c\xf4ng! Cảm ơn bạn đ\xe3 mua sắm."),_(),e.push(`/checkout/success?orderNumber=${encodeURIComponent(s.orderNumber)}`)}catch(e){console.error("[Checkout] Error creating order:",e),console.error("[Checkout] Error details:",{message:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0}),d.Am.dismiss(),d.Am.error((0,g.z)(e)),Z(!1)}};return s||P?0!==b.length||P?t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"container-custom",children:[t.jsx(m.Z,{items:[{label:"Trang chủ",href:"/"},{label:"Giỏ h\xe0ng",href:"/cart"},{label:"Thanh to\xe1n"}],className:"mb-8"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[t.jsx("div",{className:"lg:col-span-2",children:(0,t.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[t.jsx("h2",{className:"mb-6 text-xl font-bold text-gray-900",children:"Th\xf4ng tin giao h\xe0ng"}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx(o.Z,{label:"Họ v\xe0 t\xean",name:"fullName",value:q.fullName,onChange:B,required:!0,placeholder:"V\xed dụ: Nguyễn Văn A"}),t.jsx(o.Z,{label:"C\xf4ng ty (t\xf9y chọn)",name:"company",value:q.company,onChange:B}),t.jsx(o.Z,{label:"Địa chỉ",name:"address",value:q.address,onChange:B,required:!0}),t.jsx(o.Z,{label:"Căn hộ, số nh\xe0, v.v. (t\xf9y chọn)",name:"apartment",value:q.apartment,onChange:B}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[t.jsx(o.Z,{label:"Th\xe0nh phố",name:"city",value:q.city,onChange:B,required:!0}),t.jsx(o.Z,{label:"Tỉnh/Th\xe0nh phố",name:"state",value:q.state,onChange:B,required:!0}),t.jsx(o.Z,{label:"M\xe3 bưu điện",name:"zipCode",value:q.zipCode,onChange:B,required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsx(o.Z,{label:"Email",type:"email",name:"email",value:q.email,onChange:B,placeholder:"email@example.com",required:!0}),t.jsx(o.Z,{label:"Phone",type:"tel",name:"phone",value:q.phone,onChange:B,placeholder:"0901234567",required:!0})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[t.jsx("h2",{className:"mb-6 text-xl font-bold text-gray-900",children:"Phương thức giao h\xe0ng"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex cursor-pointer items-center justify-between rounded-lg border-2 border-brand-purple-600 bg-purple-50 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("input",{type:"radio",name:"shippingMethod",checked:"standard"===E,onChange:()=>A("standard"),className:"h-4 w-4 text-brand-purple-600"}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(v.C4B,{className:"text-brand-purple-600"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Giao h\xe0ng ti\xeau chuẩn"})]}),t.jsx("span",{className:"text-sm text-gray-600",children:"5-7 ng\xe0y l\xe0m việc"})]})]}),t.jsx("span",{className:"font-semibold text-gray-900",children:0===I?"MIỄN PH\xcd":(0,y.xG)(I)})]}),(0,t.jsxs)("label",{className:"flex cursor-pointer items-center justify-between rounded-lg border-2 border-gray-300 p-4 hover:border-gray-400",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("input",{type:"radio",name:"shippingMethod",checked:"express"===E,onChange:()=>A("express"),className:"h-4 w-4 text-brand-purple-600"}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(v.C4B,{className:"text-gray-600"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Giao h\xe0ng nhanh"})]}),t.jsx("span",{className:"text-sm text-gray-600",children:"2-3 ng\xe0y l\xe0m việc"})]})]}),t.jsx("span",{className:"font-semibold text-gray-900",children:(0,y.xG)(D)})]})]}),"cod"===M&&z>749&&t.jsx("div",{className:"mt-4 rounded-lg bg-green-50 p-3 text-sm text-green-800",children:"\uD83C\uDF89 Đơn h\xe0ng tr\xean 749.000₫ được miễn ph\xed vận chuyển (COD)!"}),"zalopay"===M&&t.jsx("div",{className:"mt-4 rounded-lg bg-blue-50 p-3 text-sm text-blue-800",children:"✓ ZaloPay: Miễn ph\xed vận chuyển cho mọi đơn h\xe0ng"})]}),(0,t.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Phương thức thanh to\xe1n"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(v.UIZ,{className:"text-green-600"}),t.jsx("span",{children:"Thanh to\xe1n bảo mật"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("label",{className:`flex cursor-pointer items-start justify-between rounded-lg border-2 p-4 transition-colors ${"cod"===M?"border-brand-purple-600 bg-purple-50":"border-gray-300 hover:border-gray-400"}`,children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:"cod"===M,onChange:()=>T("cod"),className:"mt-1 h-4 w-4 text-brand-purple-600"}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(v.oQC,{className:"cod"===M?"text-brand-purple-600":"text-gray-600"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Ship COD (Thanh to\xe1n khi nhận h\xe0ng)"})]}),t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Bạn sẽ thanh to\xe1n khi nhận được h\xe0ng. Ph\xed giao h\xe0ng sẽ được cộng v\xe0o tổng tiền."}),"cod"===M&&R>0&&(0,t.jsxs)("p",{className:"mt-2 text-sm font-medium text-brand-purple-600",children:["Ph\xed giao h\xe0ng: ",(0,y.xG)(R)]})]})]})}),t.jsx("label",{className:`flex cursor-pointer items-start justify-between rounded-lg border-2 p-4 transition-colors ${"zalopay"===M?"border-brand-purple-600 bg-purple-50":"border-gray-300 hover:border-gray-400"}`,children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("input",{type:"radio",name:"paymentMethod",value:"zalopay",checked:"zalopay"===M,onChange:()=>T("zalopay"),className:"mt-1 h-4 w-4 text-brand-purple-600"}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(f,{className:"zalopay"===M?"text-brand-purple-600":"text-gray-600"}),t.jsx("span",{className:"font-medium text-gray-900",children:"ZaloPay (Thanh to\xe1n trực tuyến)"})]}),t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Thanh to\xe1n nhanh ch\xf3ng qua ứng dụng ZaloPay bằng c\xe1ch qu\xe9t m\xe3 QR. Miễn ph\xed vận chuyển."}),"zalopay"===M&&t.jsx("p",{className:"mt-2 text-sm font-medium text-green-600",children:"✓ Miễn ph\xed vận chuyển"})]})]})})]}),"zalopay"===M&&t.jsx("div",{className:"mt-4 rounded-lg bg-blue-50 p-4",children:t.jsx("p",{className:"text-sm text-blue-800",children:"\uD83D\uDCA1 Sau khi đặt h\xe0ng, bạn sẽ được chuyển đến trang thanh to\xe1n ZaloPay để qu\xe9t m\xe3 QR."})})]}),t.jsx(c.Z,{type:"submit",size:"lg",fullWidth:!0,isLoading:P,className:"font-semibold",children:P?"zalopay"===M?"Đang chuyển đến ZaloPay...":"Đang xử l\xfd đơn h\xe0ng...":"cod"===M?`Đặt h\xe0ng - ${(0,y.xG)(G)}`:`Thanh to\xe1n ZaloPay - ${(0,y.xG)(G)}`}),(0,t.jsxs)("p",{className:"text-center text-sm text-gray-600",children:["Bằng việc đặt h\xe0ng, bạn đồng \xfd với"," ",t.jsx(n.default,{href:"/terms",className:"text-brand-purple-600 hover:underline",children:"Điều khoản & Điều kiện"})]})]})}),t.jsx("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"sticky top-8 rounded-lg bg-white p-6 shadow-md",children:[t.jsx("h2",{className:"mb-6 text-xl font-bold text-gray-900",children:"T\xf3m tắt đơn h\xe0ng"}),t.jsx("div",{className:"mb-6 space-y-4",children:b.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"relative h-20 w-20 flex-shrink-0 overflow-hidden rounded-lg",children:[t.jsx(l.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover"}),t.jsx("div",{className:"absolute -right-2 -top-2 flex h-6 w-6 items-center justify-center rounded-full bg-gray-600 text-xs text-white",children:e.quantity})]}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Số lượng: ",e.quantity]})]}),t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:(0,y.xG)(e.price*e.quantity)})]},`${e.productId}-${e.variantId||s}`))}),(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:["Tạm t\xednh (",N()," sản phẩm)"]}),t.jsx("span",{className:"font-medium text-gray-900",children:(0,y.xG)(z)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Ph\xed vận chuyển"}),t.jsx("span",{className:"font-medium text-gray-900",children:0===R?"MIỄN PH\xcd":(0,y.xG)(R)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Thuế"}),t.jsx("span",{className:"font-medium text-gray-900",children:(0,y.xG)(S)})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex justify-between border-t border-gray-200 pt-4",children:[t.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Tổng cộng"}),t.jsx("span",{className:"text-lg font-bold text-brand-purple-600",children:(0,y.xG)(G)})]})]}),(0,t.jsxs)("div",{className:"mt-6 space-y-3 border-t border-gray-200 pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[t.jsx(v.UIZ,{className:"text-green-600"}),t.jsx("span",{children:"M\xe3 h\xf3a SSL 256-bit bảo mật"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[t.jsx(v.C4B,{className:"text-blue-600"}),t.jsx("span",{children:"Miễn ph\xed vận chuyển cho đơn h\xe0ng tr\xean 749.000₫"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[t.jsx(v.XiQ,{className:"text-purple-600"}),t.jsx("span",{children:"Đảm bảo ho\xe0n tiền"})]})]})]})})]})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:t.jsx("div",{className:"container-custom",children:(0,t.jsxs)("div",{className:"mx-auto max-w-md text-center",children:[t.jsx("h1",{className:"mb-4 text-2xl font-bold text-gray-900",children:"Giỏ h\xe0ng của bạn đang trống"}),t.jsx("p",{className:"mb-8 text-gray-600",children:"Th\xeam sản phẩm v\xe0o giỏ h\xe0ng để thanh to\xe1n"}),t.jsx(c.Z,{href:"/products",children:"Tiếp tục mua sắm"})]})})}):t.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:t.jsx("div",{className:"container-custom",children:(0,t.jsxs)("div",{className:"mx-auto max-w-md text-center",children:[t.jsx("div",{className:"mb-4 text-5xl animate-pulse",children:"\uD83E\uDDFE"}),t.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Đang tải th\xf4ng tin thanh to\xe1n..."}),t.jsx("p",{className:"text-gray-500",children:"Vui l\xf2ng chờ trong gi\xe2y l\xe1t."})]})})})}},59575:(e,s,a)=>{"use strict";a.d(s,{Z:()=>n});var t=a(10326),r=a(90434);function n({items:e,className:s=""}){return t.jsx("nav",{className:`flex ${s}`,"aria-label":"Breadcrumb",children:t.jsx("ol",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm",children:e.map((s,a)=>(0,t.jsxs)("li",{className:"flex items-center",children:[a>0&&t.jsx("svg",{className:"mx-2 h-4 w-4 shrink-0 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),s.href&&a<e.length-1?t.jsx(r.default,{href:s.href,className:"break-words text-gray-600 hover:text-brand-purple-600",children:s.label}):t.jsx("span",{className:"break-words font-medium text-gray-900",children:s.label})]},a))})})}},79618:(e,s,a)=>{"use strict";a.d(s,{Z:()=>i});var t=a(10326),r=a(90434),n=a(82146);function i({children:e,variant:s="primary",size:a="md",isLoading:i=!1,fullWidth:l=!1,className:d,disabled:c,href:o,...m}){let h=(0,n.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500",ghost:"bg-transparent text-brand-purple-600 hover:bg-brand-purple-50 focus:ring-brand-purple-500",danger:"bg-error text-white hover:bg-[#98131b] focus:ring-error"}[s],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[a],l&&"w-full",(c||i)&&"opacity-50 cursor-not-allowed",d),p=i?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang tải..."]}):e;return o?t.jsx(r.default,{href:o,legacyBehavior:!0,passHref:!0,children:t.jsx("a",{className:h,children:p})}):t.jsx("button",{className:h,disabled:c||i,...m,children:p})}},24918:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});var t=a(10326),r=a(17577),n=a(82146);let i=(0,r.forwardRef)(({label:e,error:s,helperText:a,leftIcon:i,rightIcon:l,className:d,id:c,required:o,...m},h)=>{let p=(0,r.useId)(),u=c??p;return(0,t.jsxs)("div",{className:"w-full",children:[e&&(0,t.jsxs)("label",{htmlFor:u,className:"mb-1.5 block text-sm font-medium text-gray-700",children:[e,o&&t.jsx("span",{className:"ml-1 text-error",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[i&&t.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:i}),t.jsx("input",{ref:h,id:u,className:(0,n.cn)("input",s&&"input-error",i&&"pl-10",l&&"pr-10",d),required:o,...m}),l&&t.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400",children:l})]}),s&&t.jsx("p",{className:"mt-1.5 text-sm text-error",children:s}),a&&!s&&t.jsx("p",{className:"mt-1.5 text-sm text-gray-500",children:a})]})});i.displayName="Input";let l=i},9997:(e,s,a)=>{"use strict";a.d(s,{LV:()=>i,sl:()=>l});var t=a(59341),r=a(51856);let n=e=>({id:e.id,orderNumber:e.order_number,userId:e.customer_id||"",items:e.items.map(e=>({id:e.id,productId:e.product_id,productName:e.product_name,productImage:e.product_image_url||"/images/placeholder-image.svg",variantId:e.variant_info?String(e.variant_info.id||""):void 0,variantName:e.variant_info?String(e.variant_info.name||""):void 0,sku:e.product_sku||"",quantity:e.quantity,price:e.unit_price,total:e.total_price})),status:e.status||"pending",paymentStatus:e.payment_status||"pending",shippingAddress:{id:e.shipping_address.addressLine1||"",userId:e.customer_id||"",firstName:e.shipping_address.firstName,lastName:e.shipping_address.lastName,company:e.shipping_address.company,addressLine1:e.shipping_address.addressLine1,addressLine2:e.shipping_address.addressLine2,city:e.shipping_address.city,state:e.shipping_address.state,postalCode:e.shipping_address.postalCode,country:e.shipping_address.country,phone:e.shipping_address.phone,isDefault:!1,type:"shipping"},billingAddress:{id:e.billing_address.addressLine1||"",userId:e.customer_id||"",firstName:e.billing_address.firstName,lastName:e.billing_address.lastName,company:e.billing_address.company,addressLine1:e.billing_address.addressLine1,addressLine2:e.billing_address.addressLine2,city:e.billing_address.city,state:e.billing_address.state,postalCode:e.billing_address.postalCode,country:e.billing_address.country,phone:e.billing_address.phone,isDefault:!1,type:"billing"},shippingMethod:e.shipping_method||"",paymentMethod:e.payment_method||"",subtotal:e.subtotal,shipping:e.shipping_cost,tax:e.tax_amount,discount:e.discount_amount,total:e.total,trackingNumber:e.tracking_number||void 0,notes:e.notes||void 0,createdAt:e.created_at,updatedAt:e.updated_at}),i=async e=>{try{let s=await t.Z.post(r.P.ORDERS.CREATE,e),a="data"in s.data?s.data.data:s.data;return n(a)}catch(e){throw console.error("[API] Error creating order:",e),console.error("[API] Error response:",e instanceof Error?e.message:String(e)),e}},l=async e=>n((await t.Z.post(r.P.ORDERS.CANCEL(e))).data.data)},39753:(e,s,a)=>{"use strict";a.d(s,{n:()=>n});var t=a(59341),r=a(54033);let n=async e=>{try{return(await t.Z.post((0,r.f8)("payments/zalopay/create"),e)).data}catch(e){throw console.error("[Payments API] Create ZaloPay order error:",e),e}}},82146:(e,s,a)=>{"use strict";a.d(s,{cn:()=>r});var t=a(41135);function r(...e){return(0,t.W)(e)}},85744:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`D:\PROJECT\Cursor\Banyco v2\Ecommerce\frontend\app\(shop)\checkout\page.tsx#default`)},20802:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var t=a(19510),r=a(23704),n=a(5050),i=a(83144),l=a(13985);function d({children:e}){return(0,t.jsxs)(t.Fragment,{children:[t.jsx(r.Z,{}),t.jsx("main",{className:"min-h-screen bg-gray-50 pt-[120px]",children:e}),t.jsx(l.Z,{}),t.jsx(n.Z,{}),t.jsx(i.Z,{})]})}},41135:(e,s,a)=>{"use strict";function t(){for(var e,s,a=0,t="",r=arguments.length;a<r;a++)(e=arguments[a])&&(s=function e(s){var a,t,r="";if("string"==typeof s||"number"==typeof s)r+=s;else if("object"==typeof s){if(Array.isArray(s)){var n=s.length;for(a=0;a<n;a++)s[a]&&(t=e(s[a]))&&(r&&(r+=" "),r+=t)}else for(t in s)s[t]&&(r&&(r+=" "),r+=t)}return r}(e))&&(t&&(t+=" "),t+=s);return t}a.d(s,{W:()=>t})}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[6853,9024,4533,2975,5604,8334],()=>a(42726));module.exports=t})();