(()=>{var e={};e.id=2134,e.ids=[2134],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},50035:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>f,tree:()=>c}),r(54967),r(20802),r(15334),r(26083),r(19644),r(96560);var a=r(23191),n=r(88716),i=r(37922),s=r.n(i),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["(shop)",{children:["brands",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,54967)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\(shop)\\brands\\[slug]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,20802)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\(shop)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,15334)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,26083)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,19644)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,96560)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\not-found.tsx"]}],u=["D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\(shop)\\brands\\[slug]\\page.tsx"],d="/(shop)/brands/[slug]/page",p={require:r,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(shop)/brands/[slug]/page",pathname:"/brands/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9383:(e,t,r)=>{Promise.resolve().then(r.bind(r,71738)),Promise.resolve().then(r.t.bind(r,79404,23))},71738:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var a=r(10326),n=r(17577),i=r(53465),s=r(89790),o=r(52524),l=r(59577),c=r(79618),u=r(71473);function d({products:e,filterGroups:t}){let[r,d]=(0,n.useState)({}),[p,f]=(0,n.useState)("featured"),[g,m]=(0,n.useState)(""),[h,b]=(0,n.useState)(!1),x=(0,n.useMemo)(()=>{let t=[...e];if(g){let e=g.toLowerCase();t=t.filter(t=>t.name.toLowerCase().includes(e)||t.category.toLowerCase().includes(e)||t.tags?.some(t=>t.toLowerCase().includes(e)))}return r.category?.length&&(t=t.filter(e=>r.category.some(t=>e.category===t))),r.price?.length&&(t=t.filter(e=>{let t=e.salePrice||e.price;return r.price.some(e=>"0-200000"===e?t<2e5:"200000-500000"===e?t>=2e5&&t<5e5:"500000-1000000"===e?t>=5e5&&t<1e6:"1000000+"===e&&t>=1e6)})),r.availability?.length&&(t=t.filter(e=>r.availability.includes("in-stock")?e.inStock:!r.availability.includes("out-of-stock")||!e.inStock)),r.special?.length&&(t=t.filter(e=>!!(r.special.includes("on-sale")&&e.salePrice||r.special.includes("new")&&"New"===e.badge||r.special.includes("best-seller")&&"Best Seller"===e.badge))),t},[e,r,g]),y=(0,n.useMemo)(()=>{let e=[...x];switch(p){case"newest":return e.reverse();case"price-asc":return e.sort((e,t)=>(e.salePrice||e.price)-(t.salePrice||t.price));case"price-desc":return e.sort((e,t)=>(t.salePrice||t.price)-(e.salePrice||e.price));case"name-asc":return e.sort((e,t)=>e.name.localeCompare(t.name));case"rating":return e.sort((e,t)=>t.rating-e.rating);default:return e}},[x,p]),v=()=>{d({}),m("")};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(l.Z,{value:g,onChange:m}),a.jsx("div",{className:"mb-4 lg:hidden",children:(0,a.jsxs)(c.Z,{variant:"outline",onClick:()=>b(!h),className:"w-full",children:[a.jsx(u.Ihx,{className:"mr-2"}),"Bộ lọc"," ",Object.values(r).flat().length>0&&`(${Object.values(r).flat().length})`]})}),(0,a.jsxs)("div",{className:"flex gap-8",children:[a.jsx("aside",{className:`${h?"block":"hidden"} w-full lg:block lg:w-64 lg:flex-shrink-0`,children:a.jsx(s.Z,{filters:t,selectedFilters:r,onFilterChange:(e,t)=>{d(r=>({...r,[e]:t}))},onClearAll:v})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-6",children:a.jsx(o.Z,{value:p,onChange:f,totalProducts:y.length})}),y.length>0?a.jsx(i.Z,{products:y}):(0,a.jsxs)("div",{className:"rounded-lg bg-gray-50 p-12 text-center",children:[a.jsx("p",{className:"text-gray-600",children:"Kh\xf4ng t\xecm thấy sản phẩm ph\xf9 hợp bộ lọc."}),a.jsx(c.Z,{variant:"outline",onClick:v,className:"mt-4",children:"X\xf3a bộ lọc"})]})]})]})]})}},54967:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(19510),n=r(58585),i=r(94729);let s=(0,r(68570).createProxy)(String.raw`D:\PROJECT\Cursor\Banyco v2\Ecommerce\frontend\app\(shop)\brands\[slug]\BrandPageClient.tsx#default`);var o=r(59441),l=r(41447),c=r(15921);let u=e=>{let t=Number(e);return Number.isFinite(t)?t:0},d=e=>e&&"string"==typeof e?e.startsWith("http://")||e.startsWith("https://")?e:(0,c.uD)(e):"/images/placeholder-product.jpg",p=[{id:"category",title:"Danh mục",options:[{id:"waxing",label:"Wax"},{id:"skin-care",label:"Chăm s\xf3c da"},{id:"lash-brow",label:"Mi & Ch\xe2n m\xe0y"},{id:"massage",label:"Massage"},{id:"manicure-pedicure",label:"M\xf3ng tay & M\xf3ng ch\xe2n"},{id:"makeup",label:"Trang điểm"}]},{id:"price",title:"Khoảng gi\xe1",options:[{id:"0-200000",label:"Dưới 200.000₫"},{id:"200000-500000",label:"200.000₫ - 500.000₫"},{id:"500000-1000000",label:"500.000₫ - 1.000.000₫"},{id:"1000000+",label:"Tr\xean 1.000.000₫"}]},{id:"availability",title:"T\xecnh trạng",options:[{id:"in-stock",label:"C\xf2n h\xe0ng"},{id:"out-of-stock",label:"Hết h\xe0ng"}]},{id:"special",title:"Ưu đ\xe3i đặc biệt",options:[{id:"on-sale",label:"Đang giảm gi\xe1"},{id:"new",label:"H\xe0ng mới về"},{id:"best-seller",label:"B\xe1n chạy"}]}];async function f({params:e}){let{slug:t}=e,r=await (0,o.b)(t);r||(0,n.notFound)();let c=(await (0,l.t)({pageSize:100,brand:t,sort:"featured"})).data.map(e=>{let t;let r=null!==e.comparePrice&&void 0!==e.comparePrice&&e.comparePrice>e.price,a=r?e.comparePrice??e.price:e.price,n=r?e.price:void 0,i=e.isVariant??!1,s=i&&e.variantId?e.variantId:e.id;e.isBestSeller?t="B\xe1n chạy":r?t="Giảm gi\xe1":e.isFeatured&&(t="Nổi bật");let o=e.categories?.[0]?.slug??"uncategorized",l=e.brand?.slug??"unknown";return{id:s,productId:e.baseProductId??e.id,variantId:i?e.variantId:void 0,slug:e.slug,name:e.name,price:u(a),salePrice:n?u(n):void 0,image:d(e.thumbnailUrl),rating:e.rating??0,reviewCount:e.reviewCount??0,badge:t,inStock:e.stock>0,category:o,brand:l,tags:[]}}),f=[{label:"Trang chủ",href:"/"},{label:"Thương hiệu",href:"/brands"},{label:r.name}];return a.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"container-custom py-8",children:[a.jsx(i.Z,{items:f,className:"mb-6"}),(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"mb-4 text-3xl font-bold text-gray-900",children:r.name}),r.description&&a.jsx("p",{className:"text-gray-600",children:r.description})]}),a.jsx(s,{products:c,filterGroups:p})]})})}},94729:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(19510),n=r(57371);function i({items:e,className:t=""}){return a.jsx("nav",{className:`flex ${t}`,"aria-label":"Breadcrumb",children:a.jsx("ol",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm",children:e.map((t,r)=>(0,a.jsxs)("li",{className:"flex items-center",children:[r>0&&a.jsx("svg",{className:"mx-2 h-4 w-4 shrink-0 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),t.href&&r<e.length-1?a.jsx(n.default,{href:t.href,className:"break-words text-gray-600 hover:text-brand-purple-600",children:t.label}):a.jsx("span",{className:"break-words font-medium text-gray-900",children:t.label})]},r))})})}},59441:(e,t,r)=>{"use strict";r.d(t,{S:()=>s,b:()=>o});var a=r(15921),n=r(18722),i=r(83282);let s=async e=>{let t=(0,a.f8)(n.P.BRANDS.LIST),r=new URLSearchParams;e?.featured_only&&r.append("featured_only","true");let s=r.toString()?`${t}?${r.toString()}`:t;try{let e=await fetch(s,{next:{revalidate:300}});if(!e.ok)return console.error("[fetchBrands] Failed",e.statusText),[];return((await e.json()).data??[]).map(e=>({...e,logoUrl:(0,i.ZJ)(e.logo_url??e.logoUrl),product_count:Number(e.product_count)||0,primary_category:e.primary_category||null}))}catch(e){return console.error("[fetchBrands] Error",e),[]}},o=async e=>{let t=(0,a.f8)(`/brands/slug/${e}`);try{let e=await fetch(t,{next:{revalidate:300}});if(e.ok){let t=await e.json();if(t.data)return{...t.data,logoUrl:(0,i.ZJ)(t.data.logo_url??t.data.logoUrl),product_count:Number(t.data.product_count)||0,primary_category:t.data.primary_category||null}}}catch(e){console.error("[fetchBrandBySlug] Slug endpoint failed, trying detail endpoint",e)}let r=(0,a.f8)(n.P.BRANDS.DETAIL(e));try{let e=await fetch(r,{next:{revalidate:300}});if(!e.ok){if(404===e.status)return null;return console.error("[fetchBrandBySlug] Failed",e.statusText),null}let t=await e.json();if(!t.data)return null;return{...t.data,logoUrl:(0,i.ZJ)(t.data.logo_url??t.data.logoUrl),product_count:Number(t.data.product_count)||0,primary_category:t.data.primary_category||null}}catch(e){return console.error("[fetchBrandBySlug] Error",e),null}}},58585:(e,t,r)=>{"use strict";var a=r(61085);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}}),r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return s},RedirectType:function(){return a.RedirectType},notFound:function(){return n.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect}});let a=r(83953),n=r(16399);class i extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class s extends URLSearchParams{append(){throw new i}delete(){throw new i}set(){throw new i}sort(){throw new i}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return n},notFound:function(){return a}});let r="NEXT_NOT_FOUND";function a(){let e=Error(r);throw e.digest=r,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return a},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return g},getRedirectTypeFromError:function(){return f},getURLFromRedirectError:function(){return p},isRedirectError:function(){return d},permanentRedirect:function(){return u},redirect:function(){return c}});let n=r(54580),i=r(72934),s=r(8586),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=s.RedirectStatusCode.TemporaryRedirect);let a=Error(o);a.digest=o+";"+t+";"+e+";"+r+";";let i=n.requestAsyncStorage.getStore();return i&&(a.mutableCookies=i.mutableCookies),a}function c(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function u(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,a,n]=e.digest.split(";",4),i=Number(n);return t===o&&("replace"===r||"push"===r)&&"string"==typeof a&&!isNaN(i)&&i in s.RedirectStatusCode}function p(e){return d(e)?e.digest.split(";",3)[2]:null}function f(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function g(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(a||(a={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[6853,9024,4533,2975,5604,8334,8076,5095],()=>r(50035));module.exports=a})();