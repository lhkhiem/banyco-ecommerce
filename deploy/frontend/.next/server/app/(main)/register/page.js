(()=>{var e={};e.id=9049,e.ids=[9049],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},12676:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>m,routeModule:()=>p,tree:()=>c}),s(23663),s(37137),s(15334),s(26083),s(19644),s(96560);var t=s(23191),a=s(88716),n=s(37922),i=s.n(n),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let c=["",{children:["(main)",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,23663)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\(main)\\register\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,37137)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,15334)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,26083)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,19644)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,96560)),"D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\not-found.tsx"]}],m=["D:\\PROJECT\\Cursor\\Banyco v2\\Ecommerce\\frontend\\app\\(main)\\register\\page.tsx"],d="/(main)/register/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(main)/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},44723:(e,r,s)=>{Promise.resolve().then(s.bind(s,8611))},8611:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>g});var t=s(10326),a=s(17577),n=s(35047),i=s(90434),o=s(46226),l=s(74723),c=s(71473),m=s(79618),d=s(24918),u=s(69822),p=s(78699),h=s(82146),x=s(40381);function g(){let e=(0,n.useRouter)(),{setAuth:r}=(0,u.t)(),[s,g]=(0,a.useState)(!1),[b,f]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),{register:j,handleSubmit:N,watch:w,formState:{errors:k}}=(0,l.cI)({mode:"onSubmit",reValidateMode:"onChange"}),P=w("password");w("termsAccepted");let q=async s=>{y(!0);try{let t={email:s.email,password:s.password,firstName:s.firstName,lastName:s.lastName,phone:s.phone||void 0},a=await (0,p.z2)(t);r(a.user,a.accessToken,a.refreshToken),x.ZP.success("Đăng k\xfd th\xe0nh c\xf4ng!"),e.push("/account")}catch(r){console.error("Register error:",r),console.error("Error details:",{message:r?.message,response:r?.response?.data,status:r?.response?.status,url:r?.config?.url,baseURL:r?.config?.baseURL});let e="Đăng k\xfd thất bại. Vui l\xf2ng thử lại.";r?.response?e=r.response.data?.message||r.response.data?.error?.message||e:r?.request?e="Kh\xf4ng thể kết nối đến server. Vui l\xf2ng kiểm tra kết nối mạng.":r?.message&&(e=r.message),x.ZP.error(e)}finally{y(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 pt-[120px] pb-16",children:t.jsx("div",{className:"container-custom",children:(0,t.jsxs)("div",{className:"mx-auto max-w-md",children:[t.jsx("div",{className:"mb-8 text-center",children:t.jsx(i.default,{href:"/",className:"inline-block",children:t.jsx(o.default,{src:"/images/banyco-logo.jpg",alt:"Logo",width:150,height:75,className:"mx-auto h-auto w-auto"})})}),(0,t.jsxs)("div",{className:"rounded-2xl bg-white p-8 shadow-xl",children:[t.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900",children:"Đăng k\xfd"}),t.jsx("p",{className:"mb-8 text-gray-600",children:"Tạo t\xe0i khoản mới để bắt đầu mua sắm ngay h\xf4m nay."}),(0,t.jsxs)("form",{onSubmit:N(q,e=>{console.error("[Register] ========== VALIDATION ERRORS =========="),console.error("[Register] Form validation errors:",e),console.error("[Register] Form has errors, cannot submit");let r=w();console.error("[Register] Current form values:",{firstName:r.firstName,lastName:r.lastName,email:r.email,phone:r.phone,password:r.password?"***":void 0,confirmPassword:r.confirmPassword?"***":void 0,termsAccepted:r.termsAccepted})}),className:"space-y-5",noValidate:!0,children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(d.Z,{label:"Họ",type:"text",placeholder:"Nguyễn",leftIcon:t.jsx(c.fzv,{className:"h-5 w-5"}),error:k.lastName?.message,...j("lastName",{required:"Họ l\xe0 bắt buộc"})}),t.jsx(d.Z,{label:"T\xean",type:"text",placeholder:"Văn A",leftIcon:t.jsx(c.fzv,{className:"h-5 w-5"}),error:k.firstName?.message,...j("firstName",{required:"T\xean l\xe0 bắt buộc"})})]}),t.jsx(d.Z,{label:"Email",type:"email",placeholder:"your.email@example.com",leftIcon:t.jsx(c.Imn,{className:"h-5 w-5"}),error:k.email?.message,...j("email",{required:"Email l\xe0 bắt buộc",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email kh\xf4ng hợp lệ"}})}),t.jsx(d.Z,{label:"Số điện thoại",type:"tel",placeholder:"0901234567",leftIcon:t.jsx(c.tUt,{className:"h-5 w-5"}),error:k.phone?.message,...j("phone",{pattern:{value:/^[0-9]{10,11}$/,message:"Số điện thoại kh\xf4ng hợp lệ"}})}),t.jsx(d.Z,{label:"Mật khẩu",type:s?"text":"password",placeholder:"••••••••",leftIcon:t.jsx(c.UIZ,{className:"h-5 w-5"}),rightIcon:t.jsx("button",{type:"button",onClick:()=>g(!s),className:"text-gray-400 hover:text-gray-600",children:s?t.jsx(c.rzC,{className:"h-5 w-5"}):t.jsx(c.rDJ,{className:"h-5 w-5"})}),error:k.password?.message,helperText:"Tối thiểu 6 k\xfd tự",...j("password",{required:"Mật khẩu l\xe0 bắt buộc",minLength:{value:6,message:"Mật khẩu phải c\xf3 \xedt nhất 6 k\xfd tự"}})}),t.jsx(d.Z,{label:"X\xe1c nhận mật khẩu",type:b?"text":"password",placeholder:"••••••••",leftIcon:t.jsx(c.UIZ,{className:"h-5 w-5"}),rightIcon:t.jsx("button",{type:"button",onClick:()=>f(!b),className:"text-gray-400 hover:text-gray-600",children:b?t.jsx(c.rzC,{className:"h-5 w-5"}):t.jsx(c.rDJ,{className:"h-5 w-5"})}),error:k.confirmPassword?.message,...j("confirmPassword",{required:"Vui l\xf2ng x\xe1c nhận mật khẩu",validate:e=>e===P||"Mật khẩu x\xe1c nhận kh\xf4ng khớp"})}),(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("input",{type:"checkbox",id:"terms",className:(0,h.cn)("mt-1 h-4 w-4 rounded border-gray-300 text-brand-purple-600 focus:ring-brand-purple-500",k.termsAccepted&&"border-red-500"),...j("termsAccepted",{required:"Bạn phải đồng \xfd với Điều khoản sử dụng v\xe0 Ch\xednh s\xe1ch bảo mật"})}),(0,t.jsxs)("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-600",children:["T\xf4i đồng \xfd với"," ",t.jsx(i.default,{href:"/terms",className:"text-brand-purple-600 hover:underline",children:"Điều khoản sử dụng"})," ","v\xe0"," ",t.jsx(i.default,{href:"/privacy",className:"text-brand-purple-600 hover:underline",children:"Ch\xednh s\xe1ch bảo mật"})]})]}),k.termsAccepted&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.termsAccepted.message}),t.jsx(m.Z,{type:"submit",size:"lg",fullWidth:!0,isLoading:v,disabled:v,children:"Đăng k\xfd"})]}),(0,t.jsxs)("div",{className:"my-8 flex items-center",children:[t.jsx("div",{className:"flex-1 border-t border-gray-200"}),t.jsx("span",{className:"px-4 text-sm text-gray-500",children:"hoặc"}),t.jsx("div",{className:"flex-1 border-t border-gray-200"})]}),t.jsx("div",{className:"text-center",children:(0,t.jsxs)("p",{className:"text-gray-600",children:["Đ\xe3 c\xf3 t\xe0i khoản?"," ",t.jsx(i.default,{href:"/login",className:"font-semibold text-brand-purple-600 hover:text-brand-purple-700",children:"Đăng nhập ngay"})]})})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx(i.default,{href:"/",className:"text-sm text-gray-600 hover:text-gray-900",children:"← Quay lại trang chủ"})})]})})})}},79618:(e,r,s)=>{"use strict";s.d(r,{Z:()=>i});var t=s(10326),a=s(90434),n=s(82146);function i({children:e,variant:r="primary",size:s="md",isLoading:i=!1,fullWidth:o=!1,className:l,disabled:c,href:m,...d}){let u=(0,n.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500",ghost:"bg-transparent text-brand-purple-600 hover:bg-brand-purple-50 focus:ring-brand-purple-500",danger:"bg-error text-white hover:bg-[#98131b] focus:ring-error"}[r],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[s],o&&"w-full",(c||i)&&"opacity-50 cursor-not-allowed",l),p=i?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang tải..."]}):e;return m?t.jsx(a.default,{href:m,legacyBehavior:!0,passHref:!0,children:t.jsx("a",{className:u,children:p})}):t.jsx("button",{className:u,disabled:c||i,...d,children:p})}},24918:(e,r,s)=>{"use strict";s.d(r,{Z:()=>o});var t=s(10326),a=s(17577),n=s(82146);let i=(0,a.forwardRef)(({label:e,error:r,helperText:s,leftIcon:i,rightIcon:o,className:l,id:c,required:m,...d},u)=>{let p=(0,a.useId)(),h=c??p;return(0,t.jsxs)("div",{className:"w-full",children:[e&&(0,t.jsxs)("label",{htmlFor:h,className:"mb-1.5 block text-sm font-medium text-gray-700",children:[e,m&&t.jsx("span",{className:"ml-1 text-error",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[i&&t.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:i}),t.jsx("input",{ref:u,id:h,className:(0,n.cn)("input",r&&"input-error",i&&"pl-10",o&&"pr-10",l),required:m,...d}),o&&t.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400",children:o})]}),r&&t.jsx("p",{className:"mt-1.5 text-sm text-error",children:r}),s&&!r&&t.jsx("p",{className:"mt-1.5 text-sm text-gray-500",children:s})]})});i.displayName="Input";let o=i},82146:(e,r,s)=>{"use strict";s.d(r,{cn:()=>a});var t=s(41135);function a(...e){return(0,t.W)(e)}},37137:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(19510),a=s(23704),n=s(5050),i=s(83144),o=s(13985);function l({children:e}){return(0,t.jsxs)(t.Fragment,{children:[t.jsx(a.Z,{}),t.jsx("main",{className:"min-h-screen pt-[120px] bg-white",children:e}),t.jsx(o.Z,{}),t.jsx(n.Z,{}),t.jsx(i.Z,{})]})}},23663:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`D:\PROJECT\Cursor\Banyco v2\Ecommerce\frontend\app\(main)\register\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[6853,9024,4533,6385,2975,5604,8334],()=>s(12676));module.exports=t})();