"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1622],{7355:function(t,e,a){a.d(e,{t:function(){return i}});var n=a(1971),o=a(2780),l=a(4911);let r=t=>{let e=new URLSearchParams;return Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&""!==n&&e.append(a,String(n))}),e.toString()},i=async function(){var t,e,a,i,u,c;let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=r({page:d.page,pageSize:d.pageSize,q:d.q,sort:d.sort,category:d.category,brand:d.brand,price:d.price,availability:d.availability,special:d.special}),p=(0,n.f8)("".concat(o.P.PRODUCTS.LIST).concat(s?"?".concat(s):""));try{let n=await fetch(p,{next:{revalidate:60}});if(!n.ok)return console.error("[fetchProducts] Failed to fetch products",n.statusText),{data:[],meta:{total:0,page:1,pageSize:null!==(t=d.pageSize)&&void 0!==t?t:20,totalPages:0}};let o=await n.json(),r=null!==(e=o.data)&&void 0!==e?e:[];return{data:r.map(t=>{var e,a,n,o,r,i,u,c;let d=Array.isArray(t.optionValues)?t.optionValues.map(t=>{var e,a,n,o,l,r,i;return{optionId:null!==(e=null==t?void 0:t.optionId)&&void 0!==e?e:null,optionName:null!==(a=null==t?void 0:t.optionName)&&void 0!==a?a:"",optionPosition:null!==(n=null==t?void 0:t.optionPosition)&&void 0!==n?n:0,valueId:null!==(o=null==t?void 0:t.valueId)&&void 0!==o?o:null,value:null!==(l=null==t?void 0:t.value)&&void 0!==l?l:"",valueCode:null!==(r=null==t?void 0:t.valueCode)&&void 0!==r?r:null,valuePosition:null!==(i=null==t?void 0:t.valuePosition)&&void 0!==i?i:0}}):[];return{...t,thumbnailUrl:(0,l.ZJ)(t.thumbnailUrl),categories:null!==(e=t.categories)&&void 0!==e?e:[],brand:null!==(a=t.brand)&&void 0!==a?a:null,rating:null!==(n=t.rating)&&void 0!==n?n:0,reviewCount:null!==(o=t.reviewCount)&&void 0!==o?o:0,variantCount:Number(null!==(r=t.variantCount)&&void 0!==r?r:0),variantSummary:null!==(i=t.variantSummary)&&void 0!==i?i:null,optionValues:d,isVariant:null!==(u=t.isVariant)&&void 0!==u&&u,variantId:null!==(c=t.variantId)&&void 0!==c?c:null}}),meta:null!==(u=o.meta)&&void 0!==u?u:{total:r.length,page:null!==(a=d.page)&&void 0!==a?a:1,pageSize:null!==(i=d.pageSize)&&void 0!==i?i:r.length,totalPages:1}}}catch(t){return console.error("[fetchProducts] Error",t),{data:[],meta:{total:0,page:1,pageSize:null!==(c=d.pageSize)&&void 0!==c?c:20,totalPages:0}}}}},4911:function(t,e,a){a.d(e,{ZJ:function(){return u}});let n=()=>"ecommerce-api.banyco.vn",o=()=>{let t=n();{let e=window.location.protocol;return"".concat(e,"//").concat(t)}},l=t=>{let e=t.match(/https?:\/\/(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(:\d+)?/);if(e){let a=o();return t.replace(e[0],a)}return t},r=()=>{{let t="ecommerce-api.banyco.vn";if(t){let e=window.location.protocol;return"".concat(e,"//").concat(t)}return"".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat("443")}},i=()=>!0,u=t=>{let e;if(!t||"string"!=typeof t)return null;let a=t.replace(/\\/g,"/"),n=r(),o=i();return a.startsWith("http://")||a.startsWith("https://")?(((e=a).includes("localhost")||e.includes("127.0.0.1"))&&(e=(e=e.replace(/https?:\/\/localhost(:\d+)?/gi,n)).replace(/https?:\/\/127\.0\.0\.1(:\d+)?/gi,n)),e=l(e)):e="".concat(n).concat(a.startsWith("/")?"":"/").concat(a),(e=e.replace(/\/upload\/(?!s)/g,"/uploads/")).startsWith("http://")&&o&&(e=e.replace("http://","https://")),o&&(e.includes("localhost")||e.includes("127.0.0.1"))&&(console.warn("[normalizeMediaUrl] Found localhost in production, replacing: ".concat(e)),e=(e=e.replace(/https?:\/\/localhost(:\d+)?/gi,n)).replace(/https?:\/\/127\.0\.0\.1(:\d+)?/gi,n)),e}},3145:function(t,e,a){a.d(e,{default:function(){return o.a}});var n=a(8461),o=a.n(n)},9376:function(t,e,a){var n=a(5475);a.o(n,"useParams")&&a.d(e,{useParams:function(){return n.useParams}}),a.o(n,"usePathname")&&a.d(e,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(e,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(e,{useSearchParams:function(){return n.useSearchParams}})},8461:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var a in e)Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}(e,{default:function(){return u},getImageProps:function(){return i}});let n=a(7043),o=a(5346),l=a(5878),r=n._(a(5084));function i(t){let{props:e}=(0,o.getImgProps)(t,{defaultLoader:r.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[t,a]of Object.entries(e))void 0===a&&delete e[t];return{props:e}}let u=l.Image}}]);