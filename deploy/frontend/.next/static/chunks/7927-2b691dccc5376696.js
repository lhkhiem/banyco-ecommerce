"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7927],{3276:function(e,r,o){o.d(r,{Z:function(){return t}});var s=o(7437),a=o(7648);function t(e){let{items:r,className:o=""}=e;return(0,s.jsx)("nav",{className:"flex ".concat(o),"aria-label":"Breadcrumb",children:(0,s.jsx)("ol",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm",children:r.map((e,o)=>(0,s.jsxs)("li",{className:"flex items-center",children:[o>0&&(0,s.jsx)("svg",{className:"mx-2 h-4 w-4 shrink-0 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.href&&o<r.length-1?(0,s.jsx)(a.default,{href:e.href,className:"break-words text-gray-600 hover:text-brand-purple-600",children:e.label}):(0,s.jsx)("span",{className:"break-words font-medium text-gray-900",children:e.label})]},o))})})}},2709:function(e,r,o){o.d(r,{Z:function(){return l}});var s=o(7437),a=o(7648),t=o(6857);function l(e){let{children:r,variant:o="primary",size:l="md",isLoading:d=!1,fullWidth:n=!1,className:i,disabled:c,href:u,...v}=e,f=(0,t.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500",ghost:"bg-transparent text-brand-purple-600 hover:bg-brand-purple-50 focus:ring-brand-purple-500",danger:"bg-error text-white hover:bg-[#98131b] focus:ring-error"}[o],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[l],n&&"w-full",(c||d)&&"opacity-50 cursor-not-allowed",i),m=d?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang tải..."]}):r;return u?(0,s.jsx)(a.default,{href:u,legacyBehavior:!0,passHref:!0,children:(0,s.jsx)("a",{className:f,children:m})}):(0,s.jsx)("button",{className:f,disabled:c||d,...v,children:m})}},6018:function(e,r,o){o.d(r,{_N:function(){return c},cl:function(){return d},p6:function(){return n},y3:function(){return i}});var s=o(3405),a=o(2780);let t=e=>{var r,o,s,a,t,l,d,n;let i={first_name:(null===(r=e.firstName)||void 0===r?void 0:r.trim())||"",last_name:(null===(o=e.lastName)||void 0===o?void 0:o.trim())||"",address_line1:(null===(s=e.addressLine1)||void 0===s?void 0:s.trim())||"",city:(null===(a=e.city)||void 0===a?void 0:a.trim())||"",state:(null===(t=e.state)||void 0===t?void 0:t.trim())||"",postal_code:(null===(l=e.postalCode)||void 0===l?void 0:l.trim())||"",country:(null===(d=e.country)||void 0===d?void 0:d.trim())||"",phone:(null===(n=e.phone)||void 0===n?void 0:n.trim())||"",is_default:void 0!==e.isDefault&&e.isDefault,type:e.type||"both"};return e.company&&e.company.trim()&&(i.company=e.company.trim()),e.addressLine2&&e.addressLine2.trim()&&(i.address_line2=e.addressLine2.trim()),i},l=e=>({id:e.id||"",userId:e.user_id||e.userId||"",firstName:e.first_name||e.firstName||"",lastName:e.last_name||e.lastName||"",company:e.company,addressLine1:e.address_line1||e.addressLine1||"",addressLine2:e.address_line2||e.addressLine2,city:e.city||"",state:e.state||"",postalCode:e.postal_code||e.postalCode||"",country:e.country||"",phone:e.phone||"",isDefault:void 0!==e.is_default?e.is_default:void 0!==e.isDefault&&e.isDefault,type:e.type||"both"}),d=async()=>{var e,r,o,t,d,n;try{localStorage.getItem("accessToken");let o=await s.Z.get(a.P.USER.ADDRESSES),t=[];return Array.isArray(o.data)?t=o.data:Array.isArray(null===(e=o.data)||void 0===e?void 0:e.data)?t=o.data.data:(null===(r=o.data)||void 0===r?void 0:r.data)&&"object"==typeof o.data.data&&(t=[o.data.data]),t.map(e=>{try{return l(e)}catch(r){return console.error("[fetchAddresses] Error normalizing address:",e,r),e}})}catch(e){throw console.error("[fetchAddresses] Error:",e),console.error("[fetchAddresses] Error details:",{message:null==e?void 0:e.message,response:null==e?void 0:null===(o=e.response)||void 0===o?void 0:o.data,status:null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status,url:null==e?void 0:null===(d=e.config)||void 0===d?void 0:d.url,baseURL:null==e?void 0:null===(n=e.config)||void 0===n?void 0:n.baseURL}),e}},n=async e=>{try{localStorage.getItem("accessToken");let r=t(e),o=["first_name","last_name","address_line1","city","state","postal_code","country","phone"].filter(e=>!r[e]||""===r[e].trim());if(o.length>0)throw console.error("[createAddress] Missing required fields:",o),Error("Missing required fields: ".concat(o.join(", ")));let d=await s.Z.post(a.P.USER.ADD_ADDRESS,r);return l(d.data.data)}catch(e){var r,o,d,n,i,c,u,v,f,m,p,g;if(console.error("[createAddress] ========== ADDRESS CREATION ERROR =========="),console.error("[createAddress] Error:",e),console.error("[createAddress] Error code:",null==e?void 0:e.code),console.error("[createAddress] Error details:",{message:null==e?void 0:e.message,code:null==e?void 0:e.code,response:null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data,status:null==e?void 0:null===(o=e.response)||void 0===o?void 0:o.status,statusText:null==e?void 0:null===(d=e.response)||void 0===d?void 0:d.statusText,url:null==e?void 0:null===(n=e.config)||void 0===n?void 0:n.url,baseURL:null==e?void 0:null===(i=e.config)||void 0===i?void 0:i.baseURL,fullURL:(null==e?void 0:null===(c=e.config)||void 0===c?void 0:c.baseURL)+(null==e?void 0:null===(u=e.config)||void 0===u?void 0:u.url),requestData:null==e?void 0:null===(v=e.config)||void 0===v?void 0:v.data,requestDataString:(null==e?void 0:null===(f=e.config)||void 0===f?void 0:f.data)?JSON.stringify(e.config.data):null,headers:null==e?void 0:null===(m=e.config)||void 0===m?void 0:m.headers}),((null==e?void 0:e.code)==="ERR_NETWORK"||(null==e?void 0:e.code)==="ERR_CONNECTION_REFUSED"||(null==e?void 0:e.message)==="Network Error")&&(console.error("[createAddress] ⚠️ NETWORK ERROR - Backend server may not be running"),console.error("[createAddress] API URL:",s.Z.defaults.baseURL),console.error("[createAddress] Full URL:",s.Z.defaults.baseURL+a.P.USER.ADD_ADDRESS),console.error("[createAddress] Please check if backend server is running")),(null==e?void 0:null===(p=e.response)||void 0===p?void 0:p.data)&&(console.error("[createAddress] Response body:",e.response.data),console.error("[createAddress] Response body stringified:",JSON.stringify(e.response.data))),null==e?void 0:null===(g=e.config)||void 0===g?void 0:g.data)try{let r="string"==typeof e.config.data?JSON.parse(e.config.data):e.config.data;console.error("[createAddress] Request payload that failed:",r)}catch(r){console.error("[createAddress] Could not parse request data:",e.config.data)}throw e}},i=async(e,r)=>{try{localStorage.getItem("accessToken");let o=t(r),d=["first_name","last_name","address_line1","city","state","postal_code","country","phone"].filter(e=>!o[e]||""===o[e].trim());if(d.length>0)throw console.error("[updateAddress] Missing required fields:",d),Error("Missing required fields: ".concat(d.join(", ")));let n=await s.Z.put(a.P.USER.UPDATE_ADDRESS(e),o);return l(n.data.data)}catch(e){var o,d,n,i,c,u;throw console.error("[updateAddress] ========== ADDRESS UPDATE ERROR =========="),console.error("[updateAddress] Error:",e),console.error("[updateAddress] Error details:",{message:null==e?void 0:e.message,response:null==e?void 0:null===(o=e.response)||void 0===o?void 0:o.data,status:null==e?void 0:null===(d=e.response)||void 0===d?void 0:d.status,url:null==e?void 0:null===(n=e.config)||void 0===n?void 0:n.url,baseURL:null==e?void 0:null===(i=e.config)||void 0===i?void 0:i.baseURL,requestData:null==e?void 0:null===(c=e.config)||void 0===c?void 0:c.data,headers:null==e?void 0:null===(u=e.config)||void 0===u?void 0:u.headers}),e}},c=async e=>{await s.Z.delete(a.P.USER.DELETE_ADDRESS(e))}},6857:function(e,r,o){o.d(r,{cn:function(){return a}});var s=o(1994);function a(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return(0,s.W)(r)}}}]);