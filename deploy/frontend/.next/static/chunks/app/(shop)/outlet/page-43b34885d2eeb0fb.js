(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9427],{4955:function(t,e,r){Promise.resolve().then(r.bind(r,3184)),Promise.resolve().then(r.bind(r,7210)),Promise.resolve().then(r.bind(r,4226)),Promise.resolve().then(r.t.bind(r,2972,23))},3184:function(t,e,r){"use strict";r.d(e,{default:function(){return c}});var n=r(7437),i=r(2265),o=r(9064),a=r(7996),s=r(2709),u=r(2154);function c(t){let{productId:e,variantId:r,name:c,price:l,image:f,quantity:d=1,disabled:m=!1,variant:p="primary",size:g="md",fullWidth:h=!1,showIcon:v=!0}=t,[y,b]=(0,i.useState)(!1),w=(0,u.x)(t=>t.addItem),j=async()=>{b(!0);try{w({productId:e,variantId:r,quantity:d,price:l,name:c,image:null!=f?f:"/images/placeholder-product.jpg"}),o.Am.success("Đ\xe3 th\xeam v\xe0o giỏ h\xe0ng",{duration:2500,position:"top-right",icon:"\uD83D\uDED2",style:{minWidth:"220px"}})}catch(t){console.error("Failed to add to cart:",t),o.Am.error("Kh\xf4ng thể th\xeam sản phẩm v\xe0o giỏ h\xe0ng. Vui l\xf2ng thử lại.")}finally{b(!1)}};return(0,n.jsxs)(s.Z,{variant:p,size:g,fullWidth:h,isLoading:y,disabled:m,onClick:j,className:"flex items-center justify-center",children:[!y&&v&&(0,n.jsx)(a.Qyq,{className:"mr-2 h-4 w-4"}),y?"Đang th\xeam...":"Th\xeam v\xe0o giỏ h\xe0ng"]})}},2709:function(t,e,r){"use strict";r.d(e,{Z:function(){return a}});var n=r(7437),i=r(7648),o=r(6857);function a(t){let{children:e,variant:r="primary",size:a="md",isLoading:s=!1,fullWidth:u=!1,className:c,disabled:l,href:f,...d}=t,m=(0,o.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500",ghost:"bg-transparent text-brand-purple-600 hover:bg-brand-purple-50 focus:ring-brand-purple-500",danger:"bg-error text-white hover:bg-[#98131b] focus:ring-error"}[r],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[a],u&&"w-full",(l||s)&&"opacity-50 cursor-not-allowed",c),p=s?(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang tải..."]}):e;return f?(0,n.jsx)(i.default,{href:f,legacyBehavior:!0,passHref:!0,children:(0,n.jsx)("a",{className:m,children:p})}):(0,n.jsx)("button",{className:m,disabled:l||s,...d,children:p})}},7210:function(t,e,r){"use strict";r.d(e,{default:function(){return o}});var n=r(7437),i=r(2265);function o(t){let{children:e,delay:r=0,direction:o="up",className:a=""}=t,[s,u]=(0,i.useState)(!1),c=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let t=new IntersectionObserver(t=>{let[e]=t;e.isIntersecting&&setTimeout(()=>{u(!0)},r)},{threshold:.1,rootMargin:"50px"});return c.current&&t.observe(c.current),()=>{c.current&&t.unobserve(c.current)}},[r]),(0,n.jsx)("div",{ref:c,className:a,style:{opacity:s?1:0,transform:(()=>{if(s)return"translate(0, 0)";switch(o){case"up":default:return"translate(0, 40px)";case"down":return"translate(0, -40px)";case"left":return"translate(40px, 0)";case"right":return"translate(-40px, 0)"}})(),transition:"opacity 0.8s ease-out, transform 0.8s ease-out",willChange:s?"auto":"opacity, transform"},children:e})}},4226:function(t,e,r){"use strict";r.d(e,{default:function(){return a}});var n=r(7437),i=r(2265),o=r(3145);function a(t){let{src:e,alt:r,fill:a,width:s,height:u,className:c="",priority:l,sizes:f,fallbackSrc:d="/images/placeholder-product.jpg"}=t,[m,p]=(0,i.useState)(!1),g=m||!e?d:e,h=f||"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw";return a?(0,n.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,n.jsx)(o.default,{src:g,alt:r,fill:!0,className:c,priority:l,sizes:h,unoptimized:!1,onError:()=>{m||p(!0)}})}):(0,n.jsx)(o.default,{src:g,alt:r,width:s,height:u,className:c,priority:l,sizes:h,unoptimized:!1,onError:()=>{m||p(!0)}})}},2154:function(t,e,r){"use strict";r.d(e,{x:function(){return o}});var n=r(9625),i=r(6885);let o=(0,n.Ue)()((0,i.tJ)((t,e)=>({items:[],addItem:e=>t(t=>{if(e.quantity<=0)return t;let r=t.items.findIndex(t=>t.productId===e.productId&&t.variantId===e.variantId);if(r>-1){let n=[...t.items];return n[r].quantity+=e.quantity,{items:n}}return{items:[...t.items,e]}}),removeItem:(e,r)=>t(t=>({items:t.items.filter(t=>!(t.productId===e&&t.variantId===r))})),updateQuantity:(e,r,n)=>t(t=>r<=0?{items:t.items.filter(t=>!(t.productId===e&&t.variantId===n))}:{items:t.items.map(t=>t.productId===e&&t.variantId===n?{...t,quantity:r}:t)}),clearCart:()=>t({items:[]}),getTotalItems:()=>e().items.reduce((t,e)=>t+e.quantity,0),getSubtotal:()=>e().items.reduce((t,e)=>t+e.price*e.quantity,0),getTotalPrice:()=>e().getSubtotal()}),{name:"cart-storage"}))},6857:function(t,e,r){"use strict";r.d(e,{cn:function(){return i}});var n=r(1994);function i(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,n.W)(e)}},3145:function(t,e,r){"use strict";r.d(e,{default:function(){return i.a}});var n=r(8461),i=r.n(n)},7648:function(t,e,r){"use strict";r.d(e,{default:function(){return i.a}});var n=r(2972),i=r.n(n)},8461:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var r in e)Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}(e,{default:function(){return u},getImageProps:function(){return s}});let n=r(7043),i=r(5346),o=r(5878),a=n._(r(5084));function s(t){let{props:e}=(0,i.getImgProps)(t,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[t,r]of Object.entries(e))void 0===r&&delete e[t];return{props:e}}let u=o.Image},1994:function(t,e,r){"use strict";function n(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=function t(e){var r,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e){if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(n=t(e[r]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n)}return i}(t))&&(n&&(n+=" "),n+=e);return n}r.d(e,{W:function(){return n}})},6231:function(t,e,r){"use strict";r.d(e,{w_:function(){return l}});var n=r(2265),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=n.createContext&&n.createContext(i),a=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){var n,i;n=e,i=r[e],(n=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function l(t){return e=>n.createElement(f,s({attr:c({},t.attr)},e),function t(e){return e&&e.map((e,r)=>n.createElement(e.tag,c({key:r},e.attr),t(e.child)))}(t.child))}function f(t){var e=e=>{var r,{attr:i,size:o,title:u}=t,l=function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(t,a),f=o||e.size||"1em";return e.className&&(r=e.className),t.className&&(r=(r?r+" ":"")+t.className),n.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,l,{className:r,style:c(c({color:t.color||e.color},e.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),u&&n.createElement("title",null,u),t.children)};return void 0!==o?n.createElement(o.Consumer,null,t=>e(t)):e(i)}}},function(t){t.O(0,[9956,2972,5878,9064,5883,2971,2117,1744],function(){return t(t.s=4955)}),_N_E=t.O()}]);