(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2134],{4401:function(e,t,l){Promise.resolve().then(l.bind(l,7951)),Promise.resolve().then(l.t.bind(l,2972,23))},7951:function(e,t,l){"use strict";l.d(t,{default:function(){return d}});var n=l(7437),s=l(2265),r=l(1093),a=l(8330),i=l(1393),c=l(8323),o=l(2709),u=l(7996);function d(e){let{products:t,filterGroups:l}=e,[d,f]=(0,s.useState)({}),[g,h]=(0,s.useState)("featured"),[m,v]=(0,s.useState)(""),[p,b]=(0,s.useState)(!1),x=(0,s.useMemo)(()=>{var e,l,n,s;let r=[...t];if(m){let e=m.toLowerCase();r=r.filter(t=>{var l;return t.name.toLowerCase().includes(e)||t.category.toLowerCase().includes(e)||(null===(l=t.tags)||void 0===l?void 0:l.some(t=>t.toLowerCase().includes(e)))})}return(null===(e=d.category)||void 0===e?void 0:e.length)&&(r=r.filter(e=>d.category.some(t=>e.category===t))),(null===(l=d.price)||void 0===l?void 0:l.length)&&(r=r.filter(e=>{let t=e.salePrice||e.price;return d.price.some(e=>"0-200000"===e?t<2e5:"200000-500000"===e?t>=2e5&&t<5e5:"500000-1000000"===e?t>=5e5&&t<1e6:"1000000+"===e&&t>=1e6)})),(null===(n=d.availability)||void 0===n?void 0:n.length)&&(r=r.filter(e=>d.availability.includes("in-stock")?e.inStock:!d.availability.includes("out-of-stock")||!e.inStock)),(null===(s=d.special)||void 0===s?void 0:s.length)&&(r=r.filter(e=>!!(d.special.includes("on-sale")&&e.salePrice||d.special.includes("new")&&"New"===e.badge||d.special.includes("best-seller")&&"Best Seller"===e.badge))),r},[t,d,m]),j=(0,s.useMemo)(()=>{let e=[...x];switch(g){case"newest":return e.reverse();case"price-asc":return e.sort((e,t)=>(e.salePrice||e.price)-(t.salePrice||t.price));case"price-desc":return e.sort((e,t)=>(t.salePrice||t.price)-(e.salePrice||e.price));case"name-asc":return e.sort((e,t)=>e.name.localeCompare(t.name));case"rating":return e.sort((e,t)=>t.rating-e.rating);default:return e}},[x,g]),w=()=>{f({}),v("")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{value:m,onChange:v}),(0,n.jsx)("div",{className:"mb-4 lg:hidden",children:(0,n.jsxs)(o.Z,{variant:"outline",onClick:()=>b(!p),className:"w-full",children:[(0,n.jsx)(u.Ihx,{className:"mr-2"}),"Bộ lọc"," ",Object.values(d).flat().length>0&&"(".concat(Object.values(d).flat().length,")")]})}),(0,n.jsxs)("div",{className:"flex gap-8",children:[(0,n.jsx)("aside",{className:"".concat(p?"block":"hidden"," w-full lg:block lg:w-64 lg:flex-shrink-0"),children:(0,n.jsx)(a.Z,{filters:l,selectedFilters:d,onFilterChange:(e,t)=>{f(l=>({...l,[e]:t}))},onClearAll:w})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)(i.Z,{value:g,onChange:h,totalProducts:j.length})}),j.length>0?(0,n.jsx)(r.Z,{products:j}):(0,n.jsxs)("div",{className:"rounded-lg bg-gray-50 p-12 text-center",children:[(0,n.jsx)("p",{className:"text-gray-600",children:"Kh\xf4ng t\xecm thấy sản phẩm ph\xf9 hợp bộ lọc."}),(0,n.jsx)(o.Z,{variant:"outline",onClick:w,className:"mt-4",children:"X\xf3a bộ lọc"})]})]})]})]})}},3145:function(e,t,l){"use strict";l.d(t,{default:function(){return s.a}});var n=l(8461),s=l.n(n)},8461:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{default:function(){return c},getImageProps:function(){return i}});let n=l(7043),s=l(5346),r=l(5878),a=n._(l(5084));function i(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,l]of Object.entries(t))void 0===l&&delete t[e];return{props:t}}let c=r.Image}},function(e){e.O(0,[9956,2972,5878,9064,5883,806,7799,2971,2117,1744],function(){return e(e.s=4401)}),_N_E=e.O()}]);