(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5224],{1844:function(e,t,a){Promise.resolve().then(a.bind(a,3045))},3045:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var s=a(7437),n=a(2265),r=a(7648),i=a(9376),l=a(3145),d=a(9064),c=a(2709),o=a(7194),m=a(3276),u=a(2154),h=a(653),p=a(9693),x=a(9778),g=a(3405),y=a(5862),f=a(7996),b=a(7780);function N(){let e=(0,i.useRouter)(),[t,a]=(0,n.useState)(!1);(0,n.useEffect)(()=>{a(!0)},[]);let{items:N,getTotalPrice:j,getTotalItems:v,clearCart:_}=(0,u.x)(),{user:w,isAuthenticated:C}=(0,h.t)(e=>({user:e.user,isAuthenticated:e.isAuthenticated})),[I,P]=(0,n.useState)(!1),[S,Z]=(0,n.useState)({email:"",fullName:"",company:"",address:"",apartment:"",city:"",state:"",zipCode:"",country:"United States",phone:""}),[k,A]=(0,n.useState)("standard"),[z,q]=(0,n.useState)("cod");(0,n.useEffect)(()=>{w&&Z(e=>({...e,email:e.email||w.email,fullName:e.fullName||"".concat(w.firstName||""," ").concat(w.lastName||"").trim()}))},[w]);let M=j(),E=(0,n.useMemo)(()=>"zalopay"===z?0:M>749?0:50,[M,z]),T=(0,n.useMemo)(()=>"zalopay"===z?0:100,[z]),L=(0,n.useMemo)(()=>"express"===k?T:E,[k,T,E]),R=(0,n.useMemo)(()=>.08*M,[M]),D=(0,n.useMemo)(()=>M+L+R,[M,L,R]),G=e=>{let{name:t,value:a,type:s}=e.target,n=e.target.checked;Z(e=>({...e,[t]:"checkbox"===s?n:a}))},O=e=>{let t=e.trim();if(!t)return{firstName:"",lastName:""};let a=t.split(/\s+/);if(1===a.length)return{firstName:a[0],lastName:""};if(2===a.length)return{firstName:a[0],lastName:a[1]};{let e=a[a.length-1];return{firstName:a.slice(0,a.length-1).join(" "),lastName:e}}},B=async t=>{if(t.preventDefault(),0===N.length){d.Am.error("Giỏ h\xe0ng của bạn đang trống.");return}P(!0);let{firstName:a,lastName:s}=O(S.fullName),n={firstName:a,lastName:s,company:S.company||void 0,addressLine1:S.address,addressLine2:S.apartment||void 0,city:S.city,state:S.state,postalCode:S.zipCode,country:S.country,phone:S.phone,email:S.email},r={...n},i={customer_id:C&&w?w.id:void 0,customer_email:S.email,customer_name:S.fullName.trim(),customer_phone:S.phone,shipping_address:n,billing_address:r,shipping_method:k,payment_method:z,items:N.map(e=>({product_id:e.productId,quantity:e.quantity,variant_info:e.variantId?{variantId:e.variantId}:null})),notes:S.company?"Company: ".concat(S.company):"",subtotal:M,shipping_cost:L,tax_amount:R};try{let t=await (0,p.LV)(i);if("zalopay"===z)try{var l;d.Am.loading("Đang chuyển đến ZaloPay...");let e=await (0,x.n)({orderId:t.id,amount:Math.round(t.total),description:"Đơn h\xe0ng ".concat(t.orderNumber),appUser:S.phone||S.email||t.id,items:N.map(e=>({itemid:e.productId,itemname:e.name,itemquantity:e.quantity,itemprice:Math.round(e.price)}))});if(e.success&&(null===(l=e.data)||void 0===l?void 0:l.order_url)){sessionStorage.setItem("lastOrder",JSON.stringify(t)),sessionStorage.setItem("zalopayAppTransId",e.data.app_trans_id),d.Am.dismiss(),window.location.href=e.data.order_url;return}throw Error(e.error||e.message||"Kh\xf4ng thể tạo thanh to\xe1n ZaloPay")}catch(e){d.Am.dismiss(),d.Am.error((0,g.z)(e)),P(!1);return}d.Am.success("Đặt h\xe0ng th\xe0nh c\xf4ng! Cảm ơn bạn đ\xe3 mua sắm."),_(),sessionStorage.setItem("lastOrder",JSON.stringify(t)),e.push("/checkout/success?orderNumber=".concat(encodeURIComponent(t.orderNumber)))}catch(e){console.error("[Checkout] Error creating order:",e),console.error("[Checkout] Error details:",{message:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0}),d.Am.dismiss(),d.Am.error((0,g.z)(e)),P(!1)}};return t||I?0!==N.length||I?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"container-custom",children:[(0,s.jsx)(m.Z,{items:[{label:"Trang chủ",href:"/"},{label:"Giỏ h\xe0ng",href:"/cart"},{label:"Thanh to\xe1n"}],className:"mb-8"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)("form",{onSubmit:B,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[(0,s.jsx)("h2",{className:"mb-6 text-xl font-bold text-gray-900",children:"Th\xf4ng tin giao h\xe0ng"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(o.Z,{label:"Họ v\xe0 t\xean",name:"fullName",value:S.fullName,onChange:G,required:!0,placeholder:"V\xed dụ: Nguyễn Văn A"}),(0,s.jsx)(o.Z,{label:"C\xf4ng ty (t\xf9y chọn)",name:"company",value:S.company,onChange:G}),(0,s.jsx)(o.Z,{label:"Địa chỉ",name:"address",value:S.address,onChange:G,required:!0}),(0,s.jsx)(o.Z,{label:"Căn hộ, số nh\xe0, v.v. (t\xf9y chọn)",name:"apartment",value:S.apartment,onChange:G}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,s.jsx)(o.Z,{label:"Th\xe0nh phố",name:"city",value:S.city,onChange:G,required:!0}),(0,s.jsx)(o.Z,{label:"Tỉnh/Th\xe0nh phố",name:"state",value:S.state,onChange:G,required:!0}),(0,s.jsx)(o.Z,{label:"M\xe3 bưu điện",name:"zipCode",value:S.zipCode,onChange:G,required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,s.jsx)(o.Z,{label:"Email",type:"email",name:"email",value:S.email,onChange:G,placeholder:"email@example.com",required:!0}),(0,s.jsx)(o.Z,{label:"Phone",type:"tel",name:"phone",value:S.phone,onChange:G,placeholder:"0901234567",required:!0})]})]})]}),(0,s.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[(0,s.jsx)("h2",{className:"mb-6 text-xl font-bold text-gray-900",children:"Phương thức giao h\xe0ng"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex cursor-pointer items-center justify-between rounded-lg border-2 border-brand-purple-600 bg-purple-50 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"shippingMethod",checked:"standard"===k,onChange:()=>A("standard"),className:"h-4 w-4 text-brand-purple-600"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f.C4B,{className:"text-brand-purple-600"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"Giao h\xe0ng ti\xeau chuẩn"})]}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"5-7 ng\xe0y l\xe0m việc"})]})]}),(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:0===E?"MIỄN PH\xcd":(0,y.xG)(E)})]}),(0,s.jsxs)("label",{className:"flex cursor-pointer items-center justify-between rounded-lg border-2 border-gray-300 p-4 hover:border-gray-400",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"shippingMethod",checked:"express"===k,onChange:()=>A("express"),className:"h-4 w-4 text-brand-purple-600"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f.C4B,{className:"text-gray-600"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"Giao h\xe0ng nhanh"})]}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"2-3 ng\xe0y l\xe0m việc"})]})]}),(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:(0,y.xG)(T)})]})]}),"cod"===z&&M>749&&(0,s.jsx)("div",{className:"mt-4 rounded-lg bg-green-50 p-3 text-sm text-green-800",children:"\uD83C\uDF89 Đơn h\xe0ng tr\xean 749.000₫ được miễn ph\xed vận chuyển (COD)!"}),"zalopay"===z&&(0,s.jsx)("div",{className:"mt-4 rounded-lg bg-blue-50 p-3 text-sm text-blue-800",children:"✓ ZaloPay: Miễn ph\xed vận chuyển cho mọi đơn h\xe0ng"})]}),(0,s.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Phương thức thanh to\xe1n"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(f.UIZ,{className:"text-green-600"}),(0,s.jsx)("span",{children:"Thanh to\xe1n bảo mật"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("label",{className:"flex cursor-pointer items-start justify-between rounded-lg border-2 p-4 transition-colors ".concat("cod"===z?"border-brand-purple-600 bg-purple-50":"border-gray-300 hover:border-gray-400"),children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{type:"radio",name:"paymentMethod",value:"cod",checked:"cod"===z,onChange:()=>q("cod"),className:"mt-1 h-4 w-4 text-brand-purple-600"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f.oQC,{className:"cod"===z?"text-brand-purple-600":"text-gray-600"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"Ship COD (Thanh to\xe1n khi nhận h\xe0ng)"})]}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Bạn sẽ thanh to\xe1n khi nhận được h\xe0ng. Ph\xed giao h\xe0ng sẽ được cộng v\xe0o tổng tiền."}),"cod"===z&&L>0&&(0,s.jsxs)("p",{className:"mt-2 text-sm font-medium text-brand-purple-600",children:["Ph\xed giao h\xe0ng: ",(0,y.xG)(L)]})]})]})}),(0,s.jsx)("label",{className:"flex cursor-pointer items-start justify-between rounded-lg border-2 p-4 transition-colors ".concat("zalopay"===z?"border-brand-purple-600 bg-purple-50":"border-gray-300 hover:border-gray-400"),children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{type:"radio",name:"paymentMethod",value:"zalopay",checked:"zalopay"===z,onChange:()=>q("zalopay"),className:"mt-1 h-4 w-4 text-brand-purple-600"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(b.JQ1,{className:"zalopay"===z?"text-brand-purple-600":"text-gray-600"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"ZaloPay (Thanh to\xe1n trực tuyến)"})]}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Thanh to\xe1n nhanh ch\xf3ng qua ứng dụng ZaloPay bằng c\xe1ch qu\xe9t m\xe3 QR. Miễn ph\xed vận chuyển."}),"zalopay"===z&&(0,s.jsx)("p",{className:"mt-2 text-sm font-medium text-green-600",children:"✓ Miễn ph\xed vận chuyển"})]})]})})]}),"zalopay"===z&&(0,s.jsx)("div",{className:"mt-4 rounded-lg bg-blue-50 p-4",children:(0,s.jsx)("p",{className:"text-sm text-blue-800",children:"\uD83D\uDCA1 Sau khi đặt h\xe0ng, bạn sẽ được chuyển đến trang thanh to\xe1n ZaloPay để qu\xe9t m\xe3 QR."})})]}),(0,s.jsx)(c.Z,{type:"submit",size:"lg",fullWidth:!0,isLoading:I,className:"font-semibold",children:I?"zalopay"===z?"Đang chuyển đến ZaloPay...":"Đang xử l\xfd đơn h\xe0ng...":"cod"===z?"Đặt h\xe0ng - ".concat((0,y.xG)(D)):"Thanh to\xe1n ZaloPay - ".concat((0,y.xG)(D))}),(0,s.jsxs)("p",{className:"text-center text-sm text-gray-600",children:["Bằng việc đặt h\xe0ng, bạn đồng \xfd với"," ",(0,s.jsx)(r.default,{href:"/terms",className:"text-brand-purple-600 hover:underline",children:"Điều khoản & Điều kiện"})]})]})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"sticky top-8 rounded-lg bg-white p-6 shadow-md",children:[(0,s.jsx)("h2",{className:"mb-6 text-xl font-bold text-gray-900",children:"T\xf3m tắt đơn h\xe0ng"}),(0,s.jsx)("div",{className:"mb-6 space-y-4",children:N.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"relative h-20 w-20 flex-shrink-0 overflow-hidden rounded-lg",children:[(0,s.jsx)(l.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover"}),(0,s.jsx)("div",{className:"absolute -right-2 -top-2 flex h-6 w-6 items-center justify-center rounded-full bg-gray-600 text-xs text-white",children:e.quantity})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Số lượng: ",e.quantity]})]}),(0,s.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:(0,y.xG)(e.price*e.quantity)})]},"".concat(e.productId,"-").concat(e.variantId||t)))}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsxs)("span",{className:"text-gray-600",children:["Tạm t\xednh (",v()," sản phẩm)"]}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:(0,y.xG)(M)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Ph\xed vận chuyển"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:0===L?"MIỄN PH\xcd":(0,y.xG)(L)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Thuế"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:(0,y.xG)(R)})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex justify-between border-t border-gray-200 pt-4",children:[(0,s.jsx)("span",{className:"text-lg font-bold text-gray-900",children:"Tổng cộng"}),(0,s.jsx)("span",{className:"text-lg font-bold text-brand-purple-600",children:(0,y.xG)(D)})]})]}),(0,s.jsxs)("div",{className:"mt-6 space-y-3 border-t border-gray-200 pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,s.jsx)(f.UIZ,{className:"text-green-600"}),(0,s.jsx)("span",{children:"M\xe3 h\xf3a SSL 256-bit bảo mật"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,s.jsx)(f.C4B,{className:"text-blue-600"}),(0,s.jsx)("span",{children:"Miễn ph\xed vận chuyển cho đơn h\xe0ng tr\xean 749.000₫"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,s.jsx)(f.XiQ,{className:"text-purple-600"}),(0,s.jsx)("span",{children:"Đảm bảo ho\xe0n tiền"})]})]})]})})]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-16",children:(0,s.jsx)("div",{className:"container-custom",children:(0,s.jsxs)("div",{className:"mx-auto max-w-md text-center",children:[(0,s.jsx)("h1",{className:"mb-4 text-2xl font-bold text-gray-900",children:"Giỏ h\xe0ng của bạn đang trống"}),(0,s.jsx)("p",{className:"mb-8 text-gray-600",children:"Th\xeam sản phẩm v\xe0o giỏ h\xe0ng để thanh to\xe1n"}),(0,s.jsx)(c.Z,{href:"/products",children:"Tiếp tục mua sắm"})]})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-16",children:(0,s.jsx)("div",{className:"container-custom",children:(0,s.jsxs)("div",{className:"mx-auto max-w-md text-center",children:[(0,s.jsx)("div",{className:"mb-4 text-5xl animate-pulse",children:"\uD83E\uDDFE"}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Đang tải th\xf4ng tin thanh to\xe1n..."}),(0,s.jsx)("p",{className:"text-gray-500",children:"Vui l\xf2ng chờ trong gi\xe2y l\xe1t."})]})})})}},3276:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(7437),n=a(7648);function r(e){let{items:t,className:a=""}=e;return(0,s.jsx)("nav",{className:"flex ".concat(a),"aria-label":"Breadcrumb",children:(0,s.jsx)("ol",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm",children:t.map((e,a)=>(0,s.jsxs)("li",{className:"flex items-center",children:[a>0&&(0,s.jsx)("svg",{className:"mx-2 h-4 w-4 shrink-0 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.href&&a<t.length-1?(0,s.jsx)(n.default,{href:e.href,className:"break-words text-gray-600 hover:text-brand-purple-600",children:e.label}):(0,s.jsx)("span",{className:"break-words font-medium text-gray-900",children:e.label})]},a))})})}},2709:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(7437),n=a(7648),r=a(6857);function i(e){let{children:t,variant:a="primary",size:i="md",isLoading:l=!1,fullWidth:d=!1,className:c,disabled:o,href:m,...u}=e,h=(0,r.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500",ghost:"bg-transparent text-brand-purple-600 hover:bg-brand-purple-50 focus:ring-brand-purple-500",danger:"bg-error text-white hover:bg-[#98131b] focus:ring-error"}[a],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[i],d&&"w-full",(o||l)&&"opacity-50 cursor-not-allowed",c),p=l?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang tải..."]}):t;return m?(0,s.jsx)(n.default,{href:m,legacyBehavior:!0,passHref:!0,children:(0,s.jsx)("a",{className:h,children:p})}):(0,s.jsx)("button",{className:h,disabled:o||l,...u,children:p})}},7194:function(e,t,a){"use strict";var s=a(7437),n=a(2265),r=a(6857);let i=(0,n.forwardRef)((e,t)=>{let{label:a,error:i,helperText:l,leftIcon:d,rightIcon:c,className:o,id:m,required:u,...h}=e,p=(0,n.useId)(),x=null!=m?m:p;return(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsxs)("label",{htmlFor:x,className:"mb-1.5 block text-sm font-medium text-gray-700",children:[a,u&&(0,s.jsx)("span",{className:"ml-1 text-error",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[d&&(0,s.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:d}),(0,s.jsx)("input",{ref:t,id:x,className:(0,r.cn)("input",i&&"input-error",d&&"pl-10",c&&"pr-10",o),required:u,...h}),c&&(0,s.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400",children:c})]}),i&&(0,s.jsx)("p",{className:"mt-1.5 text-sm text-error",children:i}),l&&!i&&(0,s.jsx)("p",{className:"mt-1.5 text-sm text-gray-500",children:l})]})});i.displayName="Input",t.Z=i},9693:function(e,t,a){"use strict";a.d(t,{AU:function(){return i},G7:function(){return l},LV:function(){return d},sl:function(){return c}});var s=a(3405),n=a(2780);let r=e=>({id:e.id,orderNumber:e.order_number,userId:e.customer_id||"",items:e.items.map(e=>({id:e.id,productId:e.product_id,productName:e.product_name,productImage:e.product_image_url||"/images/placeholder-image.svg",variantId:e.variant_info?String(e.variant_info.id||""):void 0,variantName:e.variant_info?String(e.variant_info.name||""):void 0,sku:e.product_sku||"",quantity:e.quantity,price:e.unit_price,total:e.total_price})),status:e.status||"pending",paymentStatus:e.payment_status||"pending",shippingAddress:{id:e.shipping_address.addressLine1||"",userId:e.customer_id||"",firstName:e.shipping_address.firstName,lastName:e.shipping_address.lastName,company:e.shipping_address.company,addressLine1:e.shipping_address.addressLine1,addressLine2:e.shipping_address.addressLine2,city:e.shipping_address.city,state:e.shipping_address.state,postalCode:e.shipping_address.postalCode,country:e.shipping_address.country,phone:e.shipping_address.phone,isDefault:!1,type:"shipping"},billingAddress:{id:e.billing_address.addressLine1||"",userId:e.customer_id||"",firstName:e.billing_address.firstName,lastName:e.billing_address.lastName,company:e.billing_address.company,addressLine1:e.billing_address.addressLine1,addressLine2:e.billing_address.addressLine2,city:e.billing_address.city,state:e.billing_address.state,postalCode:e.billing_address.postalCode,country:e.billing_address.country,phone:e.billing_address.phone,isDefault:!1,type:"billing"},shippingMethod:e.shipping_method||"",paymentMethod:e.payment_method||"",subtotal:e.subtotal,shipping:e.shipping_cost,tax:e.tax_amount,discount:e.discount_amount,total:e.total,trackingNumber:e.tracking_number||void 0,notes:e.notes||void 0,createdAt:e.created_at,updatedAt:e.updated_at}),i=async()=>(await s.Z.get(n.P.ORDERS.LIST)).data.data.map(r),l=async e=>r((await s.Z.get(n.P.ORDERS.DETAIL(e))).data.data),d=async e=>{try{let t=await s.Z.post(n.P.ORDERS.CREATE,e),a="data"in t.data?t.data.data:t.data;return r(a)}catch(e){throw console.error("[API] Error creating order:",e),console.error("[API] Error response:",e instanceof Error?e.message:String(e)),e}},c=async e=>r((await s.Z.post(n.P.ORDERS.CANCEL(e))).data.data)},9778:function(e,t,a){"use strict";a.d(t,{n:function(){return r},s:function(){return i}});var s=a(3405),n=a(1971);let r=async e=>{try{return(await s.Z.post((0,n.f8)("payments/zalopay/create"),e)).data}catch(e){throw console.error("[Payments API] Create ZaloPay order error:",e),e}},i=async e=>{try{return(await s.Z.get((0,n.f8)("payments/zalopay/query/".concat(e)))).data}catch(e){throw console.error("[Payments API] Query ZaloPay order error:",e),e}}},2154:function(e,t,a){"use strict";a.d(t,{x:function(){return r}});var s=a(9625),n=a(6885);let r=(0,s.Ue)()((0,n.tJ)((e,t)=>({items:[],addItem:t=>e(e=>{if(t.quantity<=0)return e;let a=e.items.findIndex(e=>e.productId===t.productId&&e.variantId===t.variantId);if(a>-1){let s=[...e.items];return s[a].quantity+=t.quantity,{items:s}}return{items:[...e.items,t]}}),removeItem:(t,a)=>e(e=>({items:e.items.filter(e=>!(e.productId===t&&e.variantId===a))})),updateQuantity:(t,a,s)=>e(e=>a<=0?{items:e.items.filter(e=>!(e.productId===t&&e.variantId===s))}:{items:e.items.map(e=>e.productId===t&&e.variantId===s?{...e,quantity:a}:e)}),clearCart:()=>e({items:[]}),getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0),getSubtotal:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0),getTotalPrice:()=>t().getSubtotal()}),{name:"cart-storage"}))},5862:function(e,t,a){"use strict";function s(e){let t=new Intl.NumberFormat("vi-VN").format(Math.round(e));return"".concat(t," đ")}a.d(t,{T4:function(){return s},xG:function(){return n}});let n=s},6857:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var s=a(1994);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.W)(t)}},3145:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var s=a(8461),n=a.n(s)},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},8461:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return d},getImageProps:function(){return l}});let s=a(7043),n=a(5346),r=a(5878),i=s._(a(5084));function l(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let d=r.Image},1994:function(e,t,a){"use strict";function s(){for(var e,t,a=0,s="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=function e(t){var a,s,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var r=t.length;for(a=0;a<r;a++)t[a]&&(s=e(t[a]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s)}return n}(e))&&(s&&(s+=" "),s+=t);return s}a.d(t,{W:function(){return s}})}},function(e){e.O(0,[9956,2516,2972,5878,9064,9502,5883,653,2971,2117,1744],function(){return e(e.s=1844)}),_N_E=e.O()}]);