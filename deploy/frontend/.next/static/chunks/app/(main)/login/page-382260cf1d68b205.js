(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4040],{7298:function(e,t,r){Promise.resolve().then(r.bind(r,1691))},1691:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g},dynamic:function(){return f}});var s=r(7437),a=r(2265),n=r(9376),l=r(7648),i=r(3145),c=r(9501),o=r(7996),u=r(2709),d=r(7194),m=r(653),h=r(3414),x=r(9064);let f="force-dynamic";function g(){var e,t;let r=(0,n.useRouter)(),{setAuth:f,isAuthenticated:g}=(0,m.t)(),[p,b]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(g){let e=new URLSearchParams(window.location.search).get("redirect")||"/account";r.push(e)}},[g,r]);let{register:y,handleSubmit:N,formState:{errors:w}}=(0,c.cI)(),k=async e=>{j(!0);try{let t=await (0,h.x4)(e);f(t.user,t.accessToken,t.refreshToken),x.ZP.success("Đăng nhập th\xe0nh c\xf4ng!");let s=new URLSearchParams(window.location.search).get("redirect")||"/account";r.push(s)}catch(r){var t,s;console.error("Login error:",r);let e=(null==r?void 0:null===(s=r.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||(null==r?void 0:r.message)||"Đăng nhập thất bại. Vui l\xf2ng thử lại.";x.ZP.error(e)}finally{j(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 pt-[120px] pb-16",children:(0,s.jsx)("div",{className:"container-custom",children:(0,s.jsxs)("div",{className:"mx-auto max-w-md",children:[(0,s.jsx)("div",{className:"mb-8 text-center",children:(0,s.jsx)(l.default,{href:"/",className:"inline-block",children:(0,s.jsx)(i.default,{src:"/images/banyco-logo.jpg",alt:"Logo",width:150,height:75,className:"mx-auto h-auto w-auto"})})}),(0,s.jsxs)("div",{className:"rounded-2xl bg-white p-8 shadow-xl",children:[(0,s.jsx)("h1",{className:"mb-2 text-3xl font-bold text-gray-900",children:"Đăng nhập"}),(0,s.jsx)("p",{className:"mb-8 text-gray-600",children:"Ch\xe0o mừng trở lại! Vui l\xf2ng đăng nhập v\xe0o t\xe0i khoản của bạn."}),(0,s.jsxs)("form",{onSubmit:N(k),className:"space-y-6",children:[(0,s.jsx)(d.Z,{label:"Email",type:"email",placeholder:"your.email@example.com",leftIcon:(0,s.jsx)(o.Imn,{className:"h-5 w-5"}),error:null===(e=w.email)||void 0===e?void 0:e.message,required:!0,...y("email",{required:"Email l\xe0 bắt buộc",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email kh\xf4ng hợp lệ"}})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Z,{label:"Mật khẩu",type:p?"text":"password",placeholder:"••••••••",leftIcon:(0,s.jsx)(o.UIZ,{className:"h-5 w-5"}),rightIcon:(0,s.jsx)("button",{type:"button",onClick:()=>b(!p),className:"text-gray-400 hover:text-gray-600",children:p?(0,s.jsx)(o.rzC,{className:"h-5 w-5"}):(0,s.jsx)(o.rDJ,{className:"h-5 w-5"})}),error:null===(t=w.password)||void 0===t?void 0:t.message,required:!0,...y("password",{required:"Mật khẩu l\xe0 bắt buộc",minLength:{value:6,message:"Mật khẩu phải c\xf3 \xedt nhất 6 k\xfd tự"}})}),(0,s.jsx)("div",{className:"mt-2 text-right",children:(0,s.jsx)(l.default,{href:"/forgot-password",className:"text-sm font-medium text-brand-purple-600 hover:text-brand-purple-700",children:"Qu\xean mật khẩu?"})})]}),(0,s.jsx)(u.Z,{type:"submit",size:"lg",fullWidth:!0,isLoading:v,disabled:v,children:"Đăng nhập"})]}),(0,s.jsxs)("div",{className:"my-8 flex items-center",children:[(0,s.jsx)("div",{className:"flex-1 border-t border-gray-200"}),(0,s.jsx)("span",{className:"px-4 text-sm text-gray-500",children:"hoặc"}),(0,s.jsx)("div",{className:"flex-1 border-t border-gray-200"})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("p",{className:"text-gray-600",children:["Chưa c\xf3 t\xe0i khoản?"," ",(0,s.jsx)(l.default,{href:"/register",className:"font-semibold text-brand-purple-600 hover:text-brand-purple-700",children:"Đăng k\xfd ngay"})]})})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)(l.default,{href:"/",className:"text-sm text-gray-600 hover:text-gray-900",children:"← Quay lại trang chủ"})})]})})})}},2709:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(7437),a=r(7648),n=r(6857);function l(e){let{children:t,variant:r="primary",size:l="md",isLoading:i=!1,fullWidth:c=!1,className:o,disabled:u,href:d,...m}=e,h=(0,n.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500",ghost:"bg-transparent text-brand-purple-600 hover:bg-brand-purple-50 focus:ring-brand-purple-500",danger:"bg-error text-white hover:bg-[#98131b] focus:ring-error"}[r],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[l],c&&"w-full",(u||i)&&"opacity-50 cursor-not-allowed",o),x=i?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang tải..."]}):t;return d?(0,s.jsx)(a.default,{href:d,legacyBehavior:!0,passHref:!0,children:(0,s.jsx)("a",{className:h,children:x})}):(0,s.jsx)("button",{className:h,disabled:u||i,...m,children:x})}},7194:function(e,t,r){"use strict";var s=r(7437),a=r(2265),n=r(6857);let l=(0,a.forwardRef)((e,t)=>{let{label:r,error:l,helperText:i,leftIcon:c,rightIcon:o,className:u,id:d,required:m,...h}=e,x=(0,a.useId)(),f=null!=d?d:x;return(0,s.jsxs)("div",{className:"w-full",children:[r&&(0,s.jsxs)("label",{htmlFor:f,className:"mb-1.5 block text-sm font-medium text-gray-700",children:[r,m&&(0,s.jsx)("span",{className:"ml-1 text-error",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[c&&(0,s.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:c}),(0,s.jsx)("input",{ref:t,id:f,className:(0,n.cn)("input",l&&"input-error",c&&"pl-10",o&&"pr-10",u),required:m,...h}),o&&(0,s.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400",children:o})]}),l&&(0,s.jsx)("p",{className:"mt-1.5 text-sm text-error",children:l}),i&&!l&&(0,s.jsx)("p",{className:"mt-1.5 text-sm text-gray-500",children:i})]})});l.displayName="Input",t.Z=l},6857:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(1994);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.W)(t)}},3145:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(8461),a=r.n(s)},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},8461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},getImageProps:function(){return i}});let s=r(7043),a=r(5346),n=r(5878),l=s._(r(5084));function i(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=n.Image}},function(e){e.O(0,[9956,2972,5878,9064,9502,5883,8036,653,2971,2117,1744],function(){return e(e.s=7298)}),_N_E=e.O()}]);